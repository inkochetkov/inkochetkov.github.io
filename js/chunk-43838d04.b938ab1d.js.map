{"version":3,"sources":["webpack:///./src/assets/tagcanvas.js","webpack:///./src/views/Skills.vue?0404","webpack:///./src/views/Skills.vue","webpack:///./src/views/Skills.vue?060e","webpack:///./node_modules/core-js/modules/es.array.last-index-of.js","webpack:///./node_modules/core-js/internals/array-last-index-of.js"],"names":["i","j","Oproto","Tproto","TCproto","Mproto","Vproto","TSproto","TCVproto","ocanvas","abs","Math","sin","cos","max","min","ceil","sqrt","pow","hexlookup3","hexlookup2","hexlookup1","0","1","2","3","4","5","6","7","8","9","a","A","b","B","c","C","d","D","e","E","f","F","doc","document","handlers","toString","toUpperCase","Defined","IsObject","o","Clamp","v","mn","mx","isNaN","Nop","TimeNow","Date","valueOf","SortList","l","nl","tl","length","push","sort","Shuffle","t","p","random","Vector","x","y","z","this","MakeVector","lg","lt","PI","Matrix","PointsOnSphere","n","xr","yr","zr","magic","r","phi","inc","pts","off","parseFloat","Cylinder","k","Ring","PointsOnCylinderV","m","PointsOnCylinderH","PointsOnRingV","offset","PointsOnRingH","CentreImage","Image","onload","dx","width","dy","height","centreFunc","w","h","cx","cy","setTransform","globalAlpha","drawImage","src","centreImage","SetAlpha","p1","p2","ae","toPrecision","substr","replace","lastIndexOf","indexOf","substring","NewCanvas","window","G_vmlCanvasManager","createElement","ShadowAlphaBroken","cv","getContext","strokeStyle","shadowColor","shadowBlur","strokeRect","getImageData","data","SetGradient","g","gd","createLinearGradient","addColorStop","fillStyle","fillRect","FindGradientColour","tc","gl","weightGradient","gCanvas","TextSet","ctxt","font","colour","strings","padx","pady","shadowColour","shadowOffsets","maxWidth","widths","align","xc","xo","yo","textBaseline","shadowOffsetX","shadowOffsetY","fillText","parseInt","RRect","s","beginPath","moveTo","arcTo","closePath","TextCanvas","stringWidths","valign","scale","ExpandImage","ScaleImage","AddBackgroundToImage","othickness","ocolour","padding","radius","ofill","x1","y1","x2","y2","cc","rr","cw","ch","lineWidth","globalCompositeOperation","image","RoundImage","iw","ih","r1","arc","fill","AddShadowToImage","sc","sb","so","sw","sh","FindTextBoundingBox","ht","idata","w1","h1","ex","FixFont","AddHandler","addEventListener","attachEvent","RemoveHandler","removeEventListener","detachEvent","AddImage","mscale","ic","bc","oc","imageScale","complete","txtOpt","zoomMax","txtScale","naturalWidth","naturalHeight","fimage","imageRadius","HasText","shadow","shadowOffset","bgColour","bgOutlineThickness","GetProperty","bgOutline","textColour","outlineMethod","outline","bgRadius","oimage","outlineIncrease","Init","dv","defaultView","pc","charAt","getComputedStyle","getPropertyValue","currentStyle","FindWeight","wFrom","tHeight","getAttribute","EventToCanvasId","target","id","srcElement","parentNode","EventXY","xy","xmul","ymul","offsetX","offsetY","AbsPos","changedTouches","pageX","pageY","MouseOut","fromElement","TagCanvas","my","UnFreeze","EndDrag","MouseMove","tg","tttimer","clearTimeout","canvas","Drag","drawn","MouseDown","cb","button","BeginDrag","MouseUp","touchState","Clicked","TouchDown","touches","targetTouches","pinchZoom","BeginPinch","EndPinch","TouchUp","Draw","TouchMove","Pinch","MouseWheel","cancelBubble","returnValue","preventDefault","Wheel","wheelDelta","detail","Scroll","scrollTimer","Pause","setTimeout","Resume","scrollPause","DrawCanvas","DrawCanvasRAF","NextFrame","interval","getElementById","getBoundingClientRect","dd","documentElement","body","xs","pageXOffset","scrollLeft","ys","pageYOffset","scrollTop","clientLeft","clientTop","left","top","Project","sx","sy","z1","z2","TextSplitter","br","line","text","original","innerText","textContent","Outline","ts","tag","pulse","pulsate","pulsateTo","outlineColour","adash","outlineDash","agap","outlineDashSpace","aspeed","outlineDashSpeed","DrawPulsate","DrawSimple","outlineRadius","SetMethod","Tag","col","bcol","bradius","boutline","bothickness","text_original","line_widths","title","position","textFont","alpha","weighted","weight","cid","lctr","opt","raf","cp","initElement","ie","navigator","appVersion","split","insertBefore","removeChild","options","depth","zoom","max_radius","max_weight","min_weight","textHeight","minBrightness","maxBrightness","lx","lock","ly","frozen","fixedAnim","fixedAlpha","source","repeatTags","minTags","GetTags","transform","Identity","startTime","time","Animate","dragControl","AnimateDrag","AnimatePosition","animTiming","Smooth","shadowAlpha","Load","hideTags","loaded","HideTags","yaw","initial","maxSpeed","pitch","tooltip","ctitle","Tooltip","TooltipNative","TooltipDiv","ttdiv","className","tooltipClass","style","zIndex","display","appendChild","TooltipNone","noMouse","wheelZoom","started","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","NextFrameRAF","NextFrameTimeout","PinchDistance","t1","t2","tccall","prototype","dot","cross","angle","ac","acos","unit","Rotation","u","sina","cosa","mcos","mul","mmatrix","xform","SetImage","iwidth","iheight","ipos","ipad","iscale","ialign","ivalign","Align","size","space","pos","Create","offx","offy","ix","iy","shadowcv","shadowc","sox","soy","Empty","Lines","cn","cl","childNodes","nodeName","join","nodeType","nodeValue","SplitWidth","words","measureText","om","methods","block","classic","none","funcs","drawFunc","Update","outlineOffset","o2","Ants","ants","l1","l2","g1","g2","seq","setLineDash","DrawOutline","DrawSize","tw","th","oscale","DrawColour","DrawColourText","normal","DrawColourImage","ccanvas","fx","fy","fw","fh","clearRect","save","rect","clip","restore","DrawBlock","ga","useGa","outlineThickness","diff","pulsateTime","Active","PreDraw","PostDraw","LastDraw","Measure","SetShadowColour","SetShadowColourAlpha","SetShadowColourFixed","SetDraw","EqualTo","getElementsByTagName","href","DrawImageIE","DrawImage","DrawText","noSelect","CheckActive","MeasureText","wl","soff","twidth","theight","img","tcv","extents","textAlign","textVAlign","imagePosition","imagePadding","imageAlign","imageVAlign","SetFont","boc","SetWeight","modes","weightMode","Weight","wmin","wmax","wnum","nweight","weightSizeMin","weightSizeMax","weightSize","xoff","yoff","xl","im","Calc","pp","mnb","mxb","xformed","stretchX","stretchY","UpdateActive","evt","createEvent","initMouseEvent","dispatchEvent","fireEvent","location","self","frames","err","open","SourceElements","querySelectorAll","el","etl","Message","CreateTag","txt","imageMode","splitWidth","UpdateTag","valid","ll","weights","wfrom","weightFrom","shape","shapeArgs","rx","ry","rz","vl","taglist","tagmap","pfuncs","sphere","vcylinder","hcylinder","vring","hring","shuffleTags","radiusX","radiusY","radiusZ","shift","concat","apply","listLength","noTagsMessage","found","ol","newlist","added","removed","splice","pop","SetShadow","paused","active","fixed","max_sc","tdelta","aindex","frontsel","frontSelect","centreDrawn","AnimateFixed","alert","freezeActive","Freeze","fixedCallback","fixedCallbackTag","cursor","activeCursor","SetTTDiv","innerHTML","tooltipDelay","Transform","sp","ym","pm","fa","fadeIn","t0","axis","reverse","freezeDecel","Decel","rs","preFreeze","minSpeed","ay","ap","z0","decel","Zoom","clickToFront","TagToFront","zoomStep","zoomMin","down","dragThreshold","dragging","res","pinched","SetSpeed","FindTag","index","srch","tgt","RotateTag","callback","v1","v2","Start","Delete","Linear","Reload","speed","lat","lng","tt","iv","0.33","0.66","class","mounted","render","$","proto","forced","toIndexedObject","toInteger","toLength","arrayMethodIsStrict","arrayMethodUsesToLength","nativeLastIndexOf","NEGATIVE_ZERO","STRICT_METHOD","USES_TO_LENGTH","ACCESSORS","FORCED","module","exports","searchElement","arguments","O"],"mappings":"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","file":"js/chunk-43838d04.b938ab1d.js","sourcesContent":["(function(){\r\n    \"use strict\";\r\n    var i, j, abs = Math.abs, sin = Math.sin, cos = Math.cos, max = Math.max,\r\n      min = Math.min, ceil = Math.ceil, sqrt = Math.sqrt, pow = Math.pow,\r\n      hexlookup3 = {}, hexlookup2 = {}, hexlookup1 = {\r\n      0:\"0,\",   1:\"17,\",  2:\"34,\",  3:\"51,\",  4:\"68,\",  5:\"85,\",\r\n      6:\"102,\", 7:\"119,\", 8:\"136,\", 9:\"153,\", a:\"170,\", A:\"170,\",\r\n      b:\"187,\", B:\"187,\", c:\"204,\", C:\"204,\", d:\"221,\", D:\"221,\",\r\n      e:\"238,\", E:\"238,\", f:\"255,\", F:\"255,\"  \r\n      }, Oproto, Tproto, TCproto, Mproto, Vproto, TSproto, TCVproto,\r\n      doc = document, ocanvas, handlers = {};\r\n    for(i = 0; i < 256; ++i) {\r\n      j = i.toString(16);\r\n      if(i < 16)\r\n        j = '0' + j;\r\n      hexlookup2[j] = hexlookup2[j.toUpperCase()] = i.toString() + ',';\r\n    }\r\n    function Defined(d) {\r\n      return typeof d != 'undefined';\r\n    }\r\n    function IsObject(o) {\r\n      return typeof o == 'object' && o != null;\r\n    }\r\n    function Clamp(v, mn, mx) {\r\n      return isNaN(v) ? mx : min(mx, max(mn, v));\r\n    }\r\n    function Nop() {\r\n      return false;\r\n    }\r\n    function TimeNow() {\r\n      return new Date().valueOf();\r\n    }\r\n    function SortList(l, f) {\r\n      var nl = [], tl = l.length, i;\r\n      for(i = 0; i < tl; ++i)\r\n        nl.push(l[i]);\r\n      nl.sort(f);\r\n      return nl;\r\n    }\r\n    function Shuffle(a) {\r\n      var i = a.length-1, t, p;\r\n      while(i) {\r\n        p = ~~(Math.random()*i);\r\n        t = a[i];\r\n        a[i] = a[p];\r\n        a[p] = t;\r\n        --i;\r\n      }\r\n    }\r\n    function Vector(x, y, z) {\r\n      this.x = x;\r\n      this.y = y;\r\n      this.z = z;\r\n    }\r\n    Vproto = Vector.prototype;\r\n    Vproto.length = function() {\r\n      return sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\r\n    };\r\n    Vproto.dot = function(v) {\r\n      return this.x * v.x + this.y * v.y + this.z * v.z;\r\n    };\r\n    Vproto.cross = function(v) {\r\n      var x = this.y * v.z - this.z * v.y,\r\n        y = this.z * v.x - this.x * v.z,\r\n        z = this.x * v.y - this.y * v.x;\r\n      return new Vector(x, y, z);\r\n    };\r\n    Vproto.angle = function(v) {\r\n      var dot = this.dot(v), ac;\r\n      if(dot == 0)\r\n        return Math.PI / 2.0;\r\n      ac = dot / (this.length() * v.length());\r\n      if(ac >= 1)\r\n        return 0;\r\n      if(ac <= -1)\r\n        return Math.PI;\r\n      return Math.acos(ac);\r\n    };\r\n    Vproto.unit = function() {\r\n      var l = this.length();\r\n      return new Vector(this.x / l, this.y / l, this.z / l);\r\n    };\r\n    function MakeVector(lg, lt) {\r\n      lt = lt * Math.PI / 180;\r\n      lg = lg * Math.PI / 180;\r\n      var x = sin(lg) * cos(lt), y = -sin(lt), z = -cos(lg) * cos(lt);\r\n      return new Vector(x, y, z);\r\n    }\r\n    function Matrix(a) {\r\n      this[1] = {1: a[0],  2: a[1],  3: a[2]};\r\n      this[2] = {1: a[3],  2: a[4],  3: a[5]};\r\n      this[3] = {1: a[6],  2: a[7],  3: a[8]};\r\n    }\r\n    Mproto = Matrix.prototype;\r\n    Matrix.Identity = function() {\r\n      return new Matrix([1,0,0, 0,1,0, 0,0,1]);\r\n    };\r\n    Matrix.Rotation = function(angle, u) {\r\n      var sina = sin(angle), cosa = cos(angle), mcos = 1 - cosa;\r\n      return new Matrix([\r\n        cosa + pow(u.x, 2) * mcos, u.x * u.y * mcos - u.z * sina, u.x * u.z * mcos + u.y * sina,\r\n        u.y * u.x * mcos + u.z * sina, cosa + pow(u.y, 2) * mcos, u.y * u.z * mcos - u.x * sina,\r\n        u.z * u.x * mcos - u.y * sina, u.z * u.y * mcos + u.x * sina, cosa + pow(u.z, 2) * mcos\r\n      ]);\r\n    }\r\n    Mproto.mul = function(m) {\r\n      var a = [], i, j, mmatrix = (m.xform ? 1 : 0);\r\n      for(i = 1; i <= 3; ++i)\r\n        for(j = 1; j <= 3; ++j) {\r\n          if(mmatrix)\r\n            a.push(this[i][1] * m[1][j] +\r\n              this[i][2] * m[2][j] +\r\n              this[i][3] * m[3][j]);\r\n          else\r\n            a.push(this[i][j] * m);\r\n        }\r\n      return new Matrix(a);\r\n    };\r\n    Mproto.xform = function(p) {\r\n      var a = {}, x = p.x, y = p.y, z = p.z;\r\n      a.x = x * this[1][1] + y * this[2][1] + z * this[3][1];\r\n      a.y = x * this[1][2] + y * this[2][2] + z * this[3][2];\r\n      a.z = x * this[1][3] + y * this[2][3] + z * this[3][3];\r\n      return a;\r\n    };\r\n    function PointsOnSphere(n,xr,yr,zr,magic) {\r\n      var i, y, r, phi, pts = [], off = 2/n, inc;\r\n      inc = Math.PI * (3 - sqrt(5) + (parseFloat(magic) ? parseFloat(magic) : 0));\r\n      for(i = 0; i < n; ++i) {\r\n        y = i * off - 1 + (off / 2);\r\n        r = sqrt(1 - y*y);\r\n        phi = i * inc;\r\n        pts.push([cos(phi) * r * xr, y * yr, sin(phi) * r * zr]);\r\n      }\r\n      return pts;\r\n    }\r\n    function Cylinder(n,o,xr,yr,zr,magic) {\r\n      var phi, pts = [], off = 2/n, inc, i, j, k, l;\r\n      inc = Math.PI * (3 - sqrt(5) + (parseFloat(magic) ? parseFloat(magic) : 0));\r\n      for(i = 0; i < n; ++i) {\r\n        j = i * off - 1 + (off / 2);\r\n        phi = i * inc;\r\n        k = cos(phi);\r\n        l = sin(phi);\r\n        pts.push(o ? [j * xr, k * yr, l * zr] : [k * xr, j * yr, l * zr]);\r\n      }\r\n      return pts;\r\n    }\r\n    function Ring(o, n, xr, yr, zr, j) {\r\n      var phi, pts = [], inc = Math.PI * 2 / n, i, k, l;\r\n      for(i = 0; i < n; ++i) {\r\n        phi = i * inc;\r\n        k = cos(phi);\r\n        l = sin(phi);\r\n        pts.push(o ? [j * xr, k * yr, l * zr] : [k * xr, j * yr, l * zr]);\r\n      }\r\n      return pts;\r\n    }\r\n    function PointsOnCylinderV(n,xr,yr,zr,m) { return Cylinder(n, 0, xr, yr, zr, m) }\r\n    function PointsOnCylinderH(n,xr,yr,zr,m) { return Cylinder(n, 1, xr, yr, zr, m) }\r\n    function PointsOnRingV(n, xr, yr, zr, offset) {\r\n      offset = isNaN(offset) ? 0 : offset * 1;\r\n      return Ring(0, n, xr, yr, zr, offset);\r\n    }\r\n    function PointsOnRingH(n, xr, yr, zr, offset) {\r\n      offset = isNaN(offset) ? 0 : offset * 1;\r\n      return Ring(1, n, xr, yr, zr, offset);\r\n    }\r\n    function CentreImage(t) {\r\n      var i = new Image;\r\n      i.onload = function() {\r\n        var dx = i.width / 2, dy = i.height / 2;\r\n        t.centreFunc = function(c, w, h, cx, cy) {\r\n          c.setTransform(1, 0, 0, 1, 0, 0);\r\n          c.globalAlpha = 1;\r\n          c.drawImage(i, cx - dx, cy - dy);\r\n        };\r\n      };\r\n      i.src = t.centreImage;\r\n    }\r\n    function SetAlpha(c,a) {\r\n      var d = c, p1, p2, ae = (a*1).toPrecision(3) + ')';\r\n      if(c[0] === '#') {\r\n        if(!hexlookup3[c])\r\n          if(c.length === 4)\r\n            hexlookup3[c] = 'rgba(' + hexlookup1[c[1]] + hexlookup1[c[2]] + hexlookup1[c[3]];\r\n          else\r\n            hexlookup3[c] = 'rgba(' + hexlookup2[c.substr(1,2)] + hexlookup2[c.substr(3,2)] + hexlookup2[c.substr(5,2)];\r\n        d = hexlookup3[c] + ae;\r\n      } else if(c.substr(0,4) === 'rgb(' || c.substr(0,4) === 'hsl(') {\r\n        d = (c.replace('(','a(').replace(')', ',' + ae));\r\n      } else if(c.substr(0,5) === 'rgba(' || c.substr(0,5) === 'hsla(') {\r\n        p1 = c.lastIndexOf(',') + 1, p2 = c.indexOf(')');\r\n        a *= parseFloat(c.substring(p1,p2));\r\n        d = c.substr(0,p1) + a.toPrecision(3) + ')';\r\n      }\r\n      return d;\r\n    }\r\n    function NewCanvas(w,h) {\r\n      // if using excanvas, give up now\r\n      if(window.G_vmlCanvasManager)\r\n        return null;\r\n      var c = doc.createElement('canvas');\r\n      c.width = w;\r\n      c.height = h;\r\n      return c;\r\n    }\r\n    // I think all browsers pass this test now...\r\n    function ShadowAlphaBroken() {\r\n      var cv = NewCanvas(3,3), c, i;\r\n      if(!cv)\r\n        return false;\r\n      c = cv.getContext('2d');\r\n      c.strokeStyle = '#000';\r\n      c.shadowColor = '#fff';\r\n      c.shadowBlur = 3;\r\n      c.globalAlpha = 0;\r\n      c.strokeRect(2,2,2,2);\r\n      c.globalAlpha = 1;\r\n      i = c.getImageData(2,2,1,1);\r\n      cv = null;\r\n      return (i.data[0] > 0);\r\n    }\r\n    function SetGradient(c, l, o, g) {\r\n      var gd = c.createLinearGradient(0, 0, l, 0), i;\r\n      for(i in g)\r\n        gd.addColorStop(1 - i, g[i]);\r\n      c.fillStyle = gd;\r\n      c.fillRect(0, o, l, 1);\r\n    }\r\n    function FindGradientColour(tc, p, r) {\r\n      var l = 1024, h = 1, gl = tc.weightGradient, cv, c, i, d;\r\n      if(tc.gCanvas) {\r\n        c = tc.gCanvas.getContext('2d');\r\n        h = tc.gCanvas.height;\r\n      } else {\r\n        if(IsObject(gl[0]))\r\n          h = gl.length;\r\n        else\r\n          gl = [gl];\r\n        tc.gCanvas = cv = NewCanvas(l, h);\r\n        if(!cv)\r\n          return null;\r\n        c = cv.getContext('2d');\r\n        for(i = 0; i < h; ++i)\r\n          SetGradient(c, l, i, gl[i]);\r\n      }\r\n      r = max(min(r || 0, h - 1), 0);\r\n      d = c.getImageData(~~((l - 1) * p), r, 1, 1).data;\r\n      return 'rgba(' + d[0] + ',' + d[1] + ',' + d[2] + ',' + (d[3]/255) + ')';\r\n    }\r\n    function TextSet(ctxt, font, colour, strings, padx, pady, shadowColour,\r\n      shadowBlur, shadowOffsets, maxWidth, widths, align) {\r\n      var xo = padx + (shadowBlur || 0) + \r\n        (shadowOffsets.length && shadowOffsets[0] < 0 ? abs(shadowOffsets[0]) : 0),\r\n        yo = pady + (shadowBlur || 0) + \r\n        (shadowOffsets.length && shadowOffsets[1] < 0 ? abs(shadowOffsets[1]) : 0), i, xc;\r\n      ctxt.font = font;\r\n      ctxt.textBaseline = 'top';\r\n      ctxt.fillStyle = colour;\r\n      shadowColour && (ctxt.shadowColor = shadowColour);\r\n      shadowBlur && (ctxt.shadowBlur = shadowBlur);\r\n      shadowOffsets.length && (ctxt.shadowOffsetX = shadowOffsets[0],\r\n        ctxt.shadowOffsetY = shadowOffsets[1]);\r\n      for(i = 0; i < strings.length; ++i) {\r\n        xc = 0;\r\n        if(widths) {\r\n          if('right' == align) {\r\n            xc = maxWidth - widths[i];\r\n          } else if('centre' == align) {\r\n            xc = (maxWidth - widths[i]) / 2;\r\n          }\r\n        }\r\n        ctxt.fillText(strings[i], xo + xc, yo);\r\n        yo += parseInt(font);\r\n      }\r\n    }\r\n    function RRect(c, x, y, w, h, r, s) {\r\n      if(r) {\r\n        c.beginPath();\r\n        c.moveTo(x, y + h - r);\r\n        c.arcTo(x, y, x + r, y, r);\r\n        c.arcTo(x + w, y, x + w, y + r, r);\r\n        c.arcTo(x + w, y + h, x + w - r, y + h, r);\r\n        c.arcTo(x, y + h, x, y + h - r, r);\r\n        c.closePath();\r\n        c[s ? 'stroke' : 'fill']();\r\n      } else {\r\n        c[s ? 'strokeRect' : 'fillRect'](x, y, w, h);\r\n      }\r\n    }\r\n    function TextCanvas(strings, font, w, h, maxWidth, stringWidths, align, valign,\r\n      scale) {\r\n      this.strings = strings;\r\n      this.font = font;\r\n      this.width = w;\r\n      this.height = h;\r\n      this.maxWidth = maxWidth;\r\n      this.stringWidths = stringWidths;\r\n      this.align = align;\r\n      this.valign = valign;\r\n      this.scale = scale;\r\n    }\r\n    TCVproto = TextCanvas.prototype;\r\n    TCVproto.SetImage = function(image, w, h, position, padding, align, valign,\r\n      scale) {\r\n      this.image = image;\r\n      this.iwidth = w * this.scale;\r\n      this.iheight = h * this.scale;\r\n      this.ipos = position;\r\n      this.ipad = padding * this.scale;\r\n      this.iscale = scale;\r\n      this.ialign = align;\r\n      this.ivalign = valign;\r\n    };\r\n    TCVproto.Align = function(size, space, a) {\r\n      var pos = 0;\r\n      if(a == 'right' || a == 'bottom')\r\n        pos = space - size;\r\n      else if(a != 'left' && a != 'top')\r\n        pos = (space - size) / 2;\r\n      return pos;\r\n    };\r\n    TCVproto.Create = function(colour, bgColour, bgOutline, bgOutlineThickness,\r\n      shadowColour, shadowBlur, shadowOffsets, padding, radius) {\r\n      var cv, cw, ch, c, x1, x2, y1, y2, offx, offy, ix, iy, iw, ih, rr,\r\n        sox = abs(shadowOffsets[0]), soy = abs(shadowOffsets[1]), shadowcv, shadowc;\r\n      padding = max(padding, sox + shadowBlur, soy + shadowBlur);\r\n      x1 = 2 * (padding + bgOutlineThickness);\r\n      y1 = 2 * (padding + bgOutlineThickness);\r\n      cw = this.width + x1;\r\n      ch = this.height + y1;\r\n      offx = offy = padding + bgOutlineThickness;\r\n    \r\n      if(this.image) {\r\n        ix = iy = padding + bgOutlineThickness;\r\n        iw = this.iwidth;\r\n        ih = this.iheight;\r\n        if(this.ipos == 'top' || this.ipos == 'bottom') {\r\n          if(iw < this.width)\r\n            ix += this.Align(iw, this.width, this.ialign);\r\n          else\r\n            offx += this.Align(this.width, iw, this.align);\r\n          if(this.ipos == 'top')\r\n            offy += ih + this.ipad;\r\n          else\r\n            iy += this.height + this.ipad;\r\n          cw = max(cw, iw + x1);\r\n          ch += ih + this.ipad;\r\n        } else {\r\n          if(ih < this.height)\r\n            iy += this.Align(ih, this.height, this.ivalign);\r\n          else\r\n            offy += this.Align(this.height, ih, this.valign);\r\n          if(this.ipos == 'right')\r\n            ix += this.width + this.ipad;\r\n          else\r\n            offx += iw + this.ipad;\r\n          cw += iw + this.ipad;\r\n          ch = max(ch, ih + y1);\r\n        }\r\n      }\r\n    \r\n      cv = NewCanvas(cw, ch);\r\n      if(!cv)\r\n        return null;\r\n      x1 = y1 = bgOutlineThickness / 2;\r\n      x2 = cw - bgOutlineThickness;\r\n      y2 = ch - bgOutlineThickness;\r\n      rr = min(radius, x2 / 2, y2 / 2);\r\n      c = cv.getContext('2d');\r\n      if(bgColour) {\r\n        c.fillStyle = bgColour;\r\n        RRect(c, x1, y1, x2, y2, rr);\r\n      }\r\n      if(bgOutlineThickness) {\r\n        c.strokeStyle = bgOutline;\r\n        c.lineWidth = bgOutlineThickness;\r\n        RRect(c, x1, y1, x2, y2, rr, true);\r\n      }\r\n      if(shadowBlur || sox || soy) {\r\n        // use a transparent canvas to draw on\r\n        shadowcv = NewCanvas(cw, ch);\r\n        if(shadowcv) {\r\n          shadowc = c;\r\n          c = shadowcv.getContext('2d');\r\n        }\r\n      }\r\n    \r\n      // don't use TextSet shadow support because it adds space for shadow\r\n      TextSet(c, this.font, colour, this.strings, offx, offy, 0, 0, [],\r\n        this.maxWidth, this.stringWidths, this.align);\r\n          \r\n      if(this.image)\r\n        c.drawImage(this.image, ix, iy, iw, ih);\r\n    \r\n      if(shadowc) {\r\n        // draw the text and image with the added shadow\r\n        c = shadowc;\r\n        shadowColour && (c.shadowColor = shadowColour);\r\n        shadowBlur && (c.shadowBlur = shadowBlur);\r\n        c.shadowOffsetX = shadowOffsets[0];\r\n        c.shadowOffsetY = shadowOffsets[1];\r\n        c.drawImage(shadowcv, 0, 0);\r\n      }\r\n      return cv;\r\n    };\r\n    function ExpandImage(i, w, h) {\r\n      var cv = NewCanvas(w, h), c;\r\n      if(!cv)\r\n        return null;\r\n      c = cv.getContext('2d');\r\n      c.drawImage(i, (w - i.width) / 2, (h - i.height) / 2);\r\n      return cv;\r\n    }\r\n    function ScaleImage(i, w, h) {\r\n      var cv = NewCanvas(w, h), c;\r\n      if(!cv)\r\n        return null;\r\n      c = cv.getContext('2d');\r\n      c.drawImage(i, 0, 0, w, h);\r\n      return cv;\r\n    }\r\n    function AddBackgroundToImage(i, w, h, scale, colour, othickness, ocolour,\r\n      padding, radius, ofill) {\r\n      var cw = w + ((2 * padding) + othickness) * scale,\r\n        ch = h + ((2 * padding) + othickness) * scale,\r\n        cv = NewCanvas(cw, ch), c, x1, y1, x2, y2, ocanvas, cc, rr;\r\n      if(!cv)\r\n        return null;\r\n      othickness *= scale;\r\n      radius *= scale;\r\n      x1 = y1 = othickness / 2;\r\n      x2 = cw - othickness;\r\n      y2 = ch - othickness;\r\n      padding = (padding * scale) + x1; // add space for outline\r\n      c = cv.getContext('2d');\r\n      rr = min(radius, x2 / 2, y2 / 2);\r\n      if(colour) {\r\n        c.fillStyle = colour;\r\n        RRect(c, x1, y1, x2, y2, rr);\r\n      }\r\n      if(othickness) {\r\n        c.strokeStyle = ocolour;\r\n        c.lineWidth = othickness;\r\n        RRect(c, x1, y1, x2, y2, rr, true);\r\n      }\r\n      \r\n      if(ofill) {\r\n        // use compositing to colour in the image and border\r\n        ocanvas = NewCanvas(cw, ch);\r\n        cc = ocanvas.getContext('2d');\r\n        cc.drawImage(i, padding, padding, w, h);\r\n        cc.globalCompositeOperation = 'source-in';\r\n        cc.fillStyle = ocolour;\r\n        cc.fillRect(0, 0, cw, ch);\r\n        cc.globalCompositeOperation = 'destination-over';\r\n        cc.drawImage(cv, 0, 0);\r\n        cc.globalCompositeOperation = 'source-over';\r\n        c.drawImage(ocanvas, 0, 0);\r\n      } else {\r\n        c.drawImage(i, padding, padding, i.width, i.height);\r\n      }\r\n      return {image: cv, width: cw / scale, height: ch / scale};\r\n    }\r\n    /**\r\n     * Rounds off the corners of an image\r\n     */\r\n    function RoundImage(i, r, iw, ih, s) {\r\n      var cv, c, r1 = parseFloat(r), l = max(iw, ih);\r\n      cv = NewCanvas(iw, ih);\r\n      if(!cv)\r\n        return null;\r\n      if(r.indexOf('%') > 0)\r\n        r1 = l * r1 / 100;\r\n      else\r\n        r1 = r1 * s;\r\n      c = cv.getContext('2d');\r\n      c.globalCompositeOperation = 'source-over';\r\n      c.fillStyle = '#fff';\r\n      if(r1 >= l/2) {\r\n        r1 = min(iw,ih) / 2;\r\n        c.beginPath();\r\n        c.moveTo(iw/2,ih/2);\r\n        c.arc(iw/2,ih/2,r1,0,2*Math.PI,false);\r\n        c.fill();\r\n        c.closePath();\r\n      } else {\r\n        r1 = min(iw/2,ih/2,r1);\r\n        RRect(c, 0, 0, iw, ih, r1, true);\r\n        c.fill();\r\n      }\r\n      c.globalCompositeOperation = 'source-in';\r\n      c.drawImage(i, 0, 0, iw, ih);\r\n      return cv;\r\n    }\r\n    /**\r\n     * Creates a new canvas containing the image and its shadow\r\n     * Returns an object containing the image and its dimensions at z=0\r\n     */\r\n    function AddShadowToImage(i, w, h, scale, sc, sb, so) {\r\n      var sw = abs(so[0]), sh = abs(so[1]), \r\n        cw = w + (sw > sb ? sw + sb : sb * 2) * scale,\r\n        ch = h + (sh > sb ? sh + sb : sb * 2) * scale,\r\n        xo = scale * ((sb || 0) + (so[0] < 0 ? sw : 0)),\r\n        yo = scale * ((sb || 0) + (so[1] < 0 ? sh : 0)), cv, c;\r\n      cv = NewCanvas(cw, ch);\r\n      if(!cv)\r\n        return null;\r\n      c = cv.getContext('2d');\r\n      sc && (c.shadowColor = sc);\r\n      sb && (c.shadowBlur = sb * scale);\r\n      so && (c.shadowOffsetX = so[0] * scale, c.shadowOffsetY = so[1] * scale);\r\n      c.drawImage(i, xo, yo, w, h);\r\n      return {image: cv, width: cw / scale, height: ch / scale};\r\n    }\r\n    function FindTextBoundingBox(s,f,ht) {\r\n      var w = parseInt(s.toString().length * ht), h = parseInt(ht * 2 * s.length),\r\n        cv = NewCanvas(w,h), c, idata, w1, h1, x, y, i, ex;\r\n      if(!cv)\r\n        return null;\r\n      c = cv.getContext('2d');\r\n      c.fillStyle = '#000';\r\n      c.fillRect(0,0,w,h);\r\n      TextSet(c,ht + 'px ' + f,'#fff',s,0,0,0,0,[],'centre')\r\n    \r\n      idata = c.getImageData(0,0,w,h);\r\n      w1 = idata.width; h1 = idata.height;\r\n      ex = {\r\n        min: { x: w1, y: h1 },\r\n        max: { x: -1, y: -1 }\r\n      };\r\n      for(y = 0; y < h1; ++y) {\r\n        for(x = 0; x < w1; ++x) {\r\n          i = (y * w1 + x) * 4;\r\n          if(idata.data[i+1] > 0) {\r\n            if(x < ex.min.x) ex.min.x = x;\r\n            if(x > ex.max.x) ex.max.x = x;\r\n            if(y < ex.min.y) ex.min.y = y;\r\n            if(y > ex.max.y) ex.max.y = y;\r\n          }\r\n        }\r\n      }\r\n      // device pixels might not be css pixels\r\n      if(w1 != w) {\r\n        ex.min.x *= (w / w1);\r\n        ex.max.x *= (w / w1);\r\n      }\r\n      if(h1 != h) {\r\n        ex.min.y *= (w / h1);\r\n        ex.max.y *= (w / h1);\r\n      }\r\n    \r\n      cv = null;\r\n      return ex;\r\n    }\r\n    function FixFont(f) {\r\n      return \"'\" + f.replace(/(\\'|\\\")/g,'').replace(/\\s*,\\s*/g, \"', '\") + \"'\";\r\n    }\r\n    function AddHandler(h,f,e) {\r\n      e = e || doc;\r\n      if(e.addEventListener)\r\n        e.addEventListener(h,f,false);\r\n      else\r\n        e.attachEvent('on' + h, f);\r\n    }\r\n    function RemoveHandler(h,f,e) {\r\n      e = e || doc;\r\n      if(e.removeEventListener)\r\n        e.removeEventListener(h, f);\r\n      else\r\n        e.detachEvent('on' + h, f);\r\n    }\r\n    function AddImage(i, o, t, tc) {\r\n      var s = tc.imageScale, mscale, ic, bc, oc, iw, ih;\r\n      // image not loaded, wait for image onload\r\n      if(!o.complete)\r\n        return AddHandler('load',function() { AddImage(i,o,t,tc); }, o);\r\n      if(!i.complete)\r\n        return AddHandler('load',function() { AddImage(i,o,t,tc); }, i);\r\n    \r\n      // Yes, this does look like nonsense, but it makes sure that both the\r\n      // width and height are actually set and not just calculated. This is\r\n      // required to keep proportional sizes when the images are hidden, so\r\n      // the images can be used again for another cloud.\r\n      o.width = o.width;\r\n      o.height = o.height;\r\n    \r\n      if(s) {\r\n        i.width = o.width * s;\r\n        i.height = o.height * s;\r\n      }\r\n      // the standard width of the image, with imageScale applied\r\n      t.iw = i.width;\r\n      t.ih = i.height;\r\n      if(tc.txtOpt) {\r\n        ic = i;\r\n        mscale = tc.zoomMax * tc.txtScale;\r\n        iw = t.iw * mscale;\r\n        ih = t.ih * mscale;\r\n        if(iw < o.naturalWidth || ih < o.naturalHeight) {\r\n          ic = ScaleImage(i, iw, ih);\r\n          if(ic)\r\n            t.fimage = ic;\r\n        } else {\r\n          iw = t.iw;\r\n          ih = t.ih;\r\n          mscale = 1;\r\n        }\r\n        if(parseFloat(tc.imageRadius))\r\n          t.image = t.fimage = i = RoundImage(t.image, tc.imageRadius, iw, ih, mscale);\r\n        if(!t.HasText()) {\r\n          if(tc.shadow) {\r\n            ic = AddShadowToImage(t.image, iw, ih, mscale, tc.shadow, tc.shadowBlur,\r\n              tc.shadowOffset);\r\n            if(ic) {\r\n              t.fimage = ic.image;\r\n              t.w = ic.width;\r\n              t.h = ic.height;\r\n            }\r\n          }\r\n          if(tc.bgColour || tc.bgOutlineThickness) {\r\n            bc = tc.bgColour == 'tag' ? GetProperty(t.a, 'background-color') :\r\n              tc.bgColour;\r\n            oc = tc.bgOutline == 'tag' ? GetProperty(t.a, 'color') : \r\n              (tc.bgOutline || tc.textColour);\r\n            iw = t.fimage.width;\r\n            ih = t.fimage.height;\r\n            if(tc.outlineMethod == 'colour') {\r\n              // create the outline version first, using the current image state\r\n              ic = AddBackgroundToImage(t.fimage, iw, ih, mscale, bc,\r\n                tc.bgOutlineThickness, t.outline.colour, tc.padding, tc.bgRadius, 1);\r\n              if(ic)\r\n                t.oimage = ic.image;\r\n            }\r\n            ic = AddBackgroundToImage(t.fimage, iw, ih, mscale, bc, \r\n              tc.bgOutlineThickness, oc, tc.padding, tc.bgRadius);\r\n            if(ic) {\r\n              t.fimage = ic.image;\r\n              t.w = ic.width;\r\n              t.h = ic.height;\r\n            }\r\n          }\r\n          if(tc.outlineMethod == 'size') {\r\n            if(tc.outlineIncrease > 0) {\r\n              t.iw += 2 * tc.outlineIncrease;\r\n              t.ih += 2 * tc.outlineIncrease;\r\n              iw = mscale * t.iw;\r\n              ih = mscale * t.ih;\r\n              ic = ScaleImage(t.fimage, iw, ih);\r\n              t.oimage = ic;\r\n              t.fimage = ExpandImage(t.fimage, t.oimage.width, t.oimage.height);\r\n            } else {\r\n              iw = mscale * (t.iw + (2 * tc.outlineIncrease));\r\n              ih = mscale * (t.ih + (2 * tc.outlineIncrease));\r\n              ic = ScaleImage(t.fimage, iw, ih);\r\n              t.oimage = ExpandImage(ic, t.fimage.width, t.fimage.height);\r\n            }\r\n          }\r\n        }\r\n      }\r\n      t.Init();\r\n    }\r\n    function GetProperty(e,p) {\r\n      var dv = doc.defaultView, pc = p.replace(/\\-([a-z])/g,function(a){return a.charAt(1).toUpperCase()});\r\n      return (dv && dv.getComputedStyle && dv.getComputedStyle(e,null).getPropertyValue(p)) ||\r\n        (e.currentStyle && e.currentStyle[pc]);\r\n    }\r\n    function FindWeight(a, wFrom, tHeight) {\r\n      var w = 1, p;\r\n      if(wFrom) {\r\n        w = 1 * (a.getAttribute(wFrom) || tHeight);\r\n      } else if(p = GetProperty(a,'font-size')) {\r\n        w = (p.indexOf('px') > -1 && p.replace('px','') * 1) ||\r\n          (p.indexOf('pt') > -1 && p.replace('pt','') * 1.25) ||\r\n          p * 3.3;\r\n      }\r\n      return w;\r\n    }\r\n    function EventToCanvasId(e) {\r\n      return e.target && Defined(e.target.id) ? e.target.id :\r\n        e.srcElement.parentNode.id;\r\n    }\r\n    function EventXY(e, c) {\r\n      var xy, p, xmul = parseInt(GetProperty(c, 'width')) / c.width,\r\n        ymul = parseInt(GetProperty(c, 'height')) / c.height;\r\n      if(Defined(e.offsetX)) {\r\n        xy = {x: e.offsetX, y: e.offsetY};\r\n      } else {\r\n        p = AbsPos(c.id);\r\n        if(Defined(e.changedTouches))\r\n          e = e.changedTouches[0];\r\n        if(e.pageX)\r\n          xy = {x: e.pageX - p.x, y: e.pageY - p.y};\r\n      }\r\n      if(xy && xmul && ymul) {\r\n        xy.x /= xmul;\r\n        xy.y /= ymul;\r\n      }\r\n      return xy;\r\n    }\r\n    function MouseOut(e) {\r\n      var cv = e.target || e.fromElement.parentNode, tc = TagCanvas.tc[cv.id];\r\n      if(tc) {\r\n       tc.mx = tc.my = -1;\r\n       tc.UnFreeze();\r\n       tc.EndDrag();\r\n      }\r\n    }\r\n    function MouseMove(e) {\r\n      var i, t = TagCanvas, tc, p, tg = EventToCanvasId(e);\r\n      for(i in t.tc) {\r\n        tc = t.tc[i];\r\n        if(tc.tttimer) {\r\n          clearTimeout(tc.tttimer);\r\n          tc.tttimer = null;\r\n        }\r\n      }\r\n      if(tg && t.tc[tg]) {\r\n        tc = t.tc[tg];\r\n        if(p = EventXY(e, tc.canvas)) {\r\n          tc.mx = p.x;\r\n          tc.my = p.y;\r\n          tc.Drag(e, p);\r\n        }\r\n        tc.drawn = 0;\r\n      }\r\n    }\r\n    function MouseDown(e) {\r\n      var t = TagCanvas, cb = doc.addEventListener ? 0 : 1,\r\n        tg = EventToCanvasId(e);\r\n      if(tg && e.button == cb && t.tc[tg]) {\r\n        t.tc[tg].BeginDrag(e);\r\n      }\r\n    }\r\n    function MouseUp(e) {\r\n      var t = TagCanvas, cb = doc.addEventListener ? 0 : 1,\r\n        tg = EventToCanvasId(e), tc;\r\n      if(tg && e.button == cb && t.tc[tg]) {\r\n        tc = t.tc[tg];\r\n        MouseMove(e);\r\n        if(!tc.EndDrag() && !tc.touchState)\r\n          tc.Clicked(e);\r\n      }\r\n    }\r\n    function TouchDown(e) {\r\n      var tg = EventToCanvasId(e), tc = (tg && TagCanvas.tc[tg]), p;\r\n      if(tc && e.changedTouches) {\r\n        if(e.touches.length == 1 && tc.touchState == 0) {\r\n          tc.touchState = 1;\r\n          tc.BeginDrag(e);\r\n          if(p = EventXY(e, tc.canvas)) {\r\n            tc.mx = p.x;\r\n            tc.my = p.y;\r\n            tc.drawn = 0;\r\n          }\r\n        } else if(e.targetTouches.length == 2 && tc.pinchZoom) {\r\n          tc.touchState = 3;\r\n          tc.EndDrag();\r\n          tc.BeginPinch(e);\r\n        } else {\r\n          tc.EndDrag();\r\n          tc.EndPinch();\r\n          tc.touchState = 0;\r\n        }\r\n      }\r\n    }\r\n    function TouchUp(e) {\r\n      var tg = EventToCanvasId(e), tc = (tg && TagCanvas.tc[tg]);\r\n      if(tc && e.changedTouches) {\r\n        switch(tc.touchState) {\r\n        case 1:\r\n          tc.Draw();\r\n          tc.Clicked();\r\n          break;\r\n        case 2:\r\n          tc.EndDrag();\r\n          break;\r\n        case 3:\r\n          tc.EndPinch();\r\n        }\r\n        tc.touchState = 0;\r\n      }\r\n    }\r\n    function TouchMove(e) {\r\n      var i, t = TagCanvas, tc, p, tg = EventToCanvasId(e);\r\n      for(i in t.tc) {\r\n        tc = t.tc[i];\r\n        if(tc.tttimer) {\r\n          clearTimeout(tc.tttimer);\r\n          tc.tttimer = null;\r\n        }\r\n      }\r\n      tc = (tg && t.tc[tg]);\r\n      if(tc && e.changedTouches && tc.touchState) {\r\n        switch(tc.touchState) {\r\n        case 1:\r\n        case 2:\r\n          if(p = EventXY(e, tc.canvas)) {\r\n            tc.mx = p.x;\r\n            tc.my = p.y;\r\n            if(tc.Drag(e, p))\r\n              tc.touchState = 2;\r\n          }\r\n          break;\r\n        case 3:\r\n          tc.Pinch(e);\r\n        }\r\n        tc.drawn = 0;\r\n      }\r\n    }\r\n    function MouseWheel(e) {\r\n      var t = TagCanvas, tg = EventToCanvasId(e);\r\n      if(tg && t.tc[tg]) {\r\n        e.cancelBubble = true;\r\n        e.returnValue = false;\r\n        e.preventDefault && e.preventDefault();\r\n        t.tc[tg].Wheel((e.wheelDelta || e.detail) > 0);\r\n      }\r\n    }\r\n    function Scroll(e) {\r\n      var i, t = TagCanvas;\r\n      clearTimeout(t.scrollTimer);\r\n      for(i in t.tc) {\r\n        t.tc[i].Pause();\r\n      }\r\n      t.scrollTimer = setTimeout(function() {\r\n        var i, t = TagCanvas;\r\n        for(i in t.tc) {\r\n          t.tc[i].Resume();\r\n        }\r\n      }, t.scrollPause);\r\n    }\r\n    function DrawCanvas() {\r\n      DrawCanvasRAF(TimeNow());\r\n    }\r\n    function DrawCanvasRAF(t) {\r\n      var tc = TagCanvas.tc, i;\r\n      TagCanvas.NextFrame(TagCanvas.interval);\r\n      t = t || TimeNow();\r\n      for(i in tc)\r\n        tc[i].Draw(t);\r\n    }\r\n    function AbsPos(id) {\r\n      var e = doc.getElementById(id), r = e.getBoundingClientRect(),\r\n        dd = doc.documentElement, b = doc.body, w = window,\r\n        xs = w.pageXOffset || dd.scrollLeft,\r\n        ys = w.pageYOffset || dd.scrollTop,\r\n        xo = dd.clientLeft || b.clientLeft,\r\n        yo = dd.clientTop || b.clientTop;\r\n      return { x: r.left + xs - xo, y: r.top + ys - yo };\r\n    }\r\n    function Project(tc,p1,sx,sy) {\r\n      var m = tc.radius * tc.z1 / (tc.z1 + tc.z2 + p1.z);\r\n      return {\r\n        x: p1.x * m * sx,\r\n        y: p1.y * m * sy,\r\n        z: p1.z,\r\n        w: (tc.z1 - p1.z) / tc.z2\r\n      };\r\n    }\r\n    /**\r\n     * @constructor\r\n     * for recursively splitting tag contents on <br> tags\r\n     */\r\n    function TextSplitter(e) {\r\n      this.e = e;\r\n      this.br = 0;\r\n      this.line = [];\r\n      this.text = [];\r\n      this.original = e.innerText || e.textContent;\r\n    }\r\n    TSproto = TextSplitter.prototype;\r\n    TSproto.Empty = function() {\r\n      for(var i = 0; i < this.text.length; ++i)\r\n        if(this.text[i].length)\r\n          return false;\r\n      return true;\r\n    };\r\n    TSproto.Lines = function(e) {\r\n      var r = e ? 1 : 0, cn, cl, i;\r\n      e = e || this.e;\r\n      cn = e.childNodes;\r\n      cl = cn.length;\r\n    \r\n      for(i = 0; i < cl; ++i) {\r\n        if(cn[i].nodeName == 'BR') {\r\n          this.text.push(this.line.join(' '));\r\n          this.br = 1;\r\n        } else if(cn[i].nodeType == 3) {\r\n          if(this.br) {\r\n            this.line = [cn[i].nodeValue];\r\n            this.br = 0;\r\n          } else {\r\n            this.line.push(cn[i].nodeValue);\r\n          }\r\n        } else {\r\n          this.Lines(cn[i]);\r\n        }\r\n      }\r\n      r || this.br || this.text.push(this.line.join(' '));\r\n      return this.text;\r\n    };\r\n    TSproto.SplitWidth = function(w, c, f, h) {\r\n      var i, j, words, text = [];\r\n      c.font = h + 'px ' + f;\r\n      for(i = 0; i < this.text.length; ++i) {\r\n        words = this.text[i].split(/\\s+/);\r\n        this.line = [words[0]];\r\n        for(j = 1; j < words.length; ++j) {\r\n          if(c.measureText(this.line.join(' ') + ' ' + words[j]).width > w) {\r\n            text.push(this.line.join(' '));\r\n            this.line = [words[j]];\r\n          } else {\r\n            this.line.push(words[j]);\r\n          }\r\n        }\r\n        text.push(this.line.join(' '));\r\n      }\r\n      return this.text = text;\r\n    };\r\n    /**\r\n     * @constructor\r\n     */\r\n    function Outline(tc,t) {\r\n      this.ts = null;\r\n      this.tc = tc;\r\n      this.tag = t;\r\n      this.x = this.y = this.w = this.h = this.sc = 1;\r\n      this.z = 0;\r\n      this.pulse = 1;\r\n      this.pulsate = tc.pulsateTo < 1;\r\n      this.colour = tc.outlineColour;\r\n      this.adash = ~~tc.outlineDash;\r\n      this.agap = ~~tc.outlineDashSpace || this.adash;\r\n      this.aspeed = tc.outlineDashSpeed * 1;\r\n      if(this.colour == 'tag')\r\n        this.colour = GetProperty(t.a, 'color');\r\n      else if(this.colour == 'tagbg')\r\n        this.colour = GetProperty(t.a, 'background-color');\r\n      this.Draw = this.pulsate ? this.DrawPulsate : this.DrawSimple;\r\n      this.radius = tc.outlineRadius | 0;\r\n      this.SetMethod(tc.outlineMethod);\r\n    }\r\n    Oproto = Outline.prototype;\r\n    Oproto.SetMethod = function(om) {\r\n      var methods = {\r\n        block: ['PreDraw','DrawBlock'],\r\n        colour: ['PreDraw','DrawColour'],\r\n        outline: ['PostDraw','DrawOutline'],\r\n        classic: ['LastDraw','DrawOutline'],\r\n        size: ['PreDraw','DrawSize'],\r\n        none: ['LastDraw']\r\n      }, funcs = methods[om] || methods.outline;\r\n      if(om == 'none') {\r\n        this.Draw = function() { return 1; }\r\n      } else {\r\n        this.drawFunc = this[funcs[1]];\r\n      }\r\n      this[funcs[0]] = this.Draw;\r\n    };\r\n    Oproto.Update = function(x,y,w,h,sc,z,xo,yo) {\r\n      var o = this.tc.outlineOffset, o2 = 2 * o;\r\n      this.x = sc * x + xo - o;\r\n      this.y = sc * y + yo - o;\r\n      this.w = sc * w + o2;\r\n      this.h = sc * h + o2;\r\n      this.sc = sc; // used to determine frontmost\r\n      this.z = z;\r\n    };\r\n    Oproto.Ants = function(c) {\r\n      if(!this.adash)\r\n        return;\r\n      var l = this.adash, g = this.agap, s = this.aspeed, length = l + g,\r\n        l1 = 0, l2 = l, g1 = g, g2 = 0, seq = 0, ants;\r\n      if(s) {\r\n        seq = abs(s) * (TimeNow() - this.ts) / 50;\r\n        if(s < 0)\r\n          seq = 8.64e6 - seq;\r\n        s = ~~seq % length;\r\n      }\r\n      if(s) {\r\n        if(l >= s) {\r\n          l1 = l - s;\r\n          l2 = s;\r\n        } else {\r\n          g1 = length - s;\r\n          g2 = g - g1;\r\n        }\r\n        ants = [l1, g1, l2, g2];\r\n      } else {\r\n        ants = [l,g];\r\n      }\r\n      c.setLineDash(ants);\r\n    }\r\n    Oproto.DrawOutline = function(c,x,y,w,h,colour) {\r\n      var r = min(this.radius, h/2, w/2);\r\n      c.strokeStyle = colour;\r\n      this.Ants(c);\r\n      RRect(c, x, y, w, h, r, true);\r\n    };\r\n    Oproto.DrawSize = function(c,x,y,w,h,colour,tag,x1,y1) {\r\n      var tw = tag.w, th = tag.h, m, i, sc;\r\n      if(this.pulsate) {\r\n        if(tag.image)\r\n          sc = (tag.image.height + this.tc.outlineIncrease) / tag.image.height;\r\n        else\r\n          sc = tag.oscale;\r\n        i = tag.fimage || tag.image;\r\n        m = 1 + ((sc - 1) * (1-this.pulse));\r\n        tag.h *= m;\r\n        tag.w *= m;\r\n      } else {\r\n        i = tag.oimage;\r\n      }\r\n      tag.alpha = 1;\r\n      tag.Draw(c, x1, y1, i);\r\n      tag.h = th;\r\n      tag.w = tw;\r\n      return 1;\r\n    };\r\n    Oproto.DrawColour = function(c,x,y,w,h,colour,tag,x1,y1) {\r\n      if(tag.oimage) {\r\n        if(this.pulse < 1) {\r\n          tag.alpha = 1 - pow(this.pulse, 2);\r\n          tag.Draw(c, x1, y1, tag.fimage);\r\n          tag.alpha = this.pulse;\r\n        } else {\r\n          tag.alpha = 1;\r\n        }\r\n        tag.Draw(c, x1, y1, tag.oimage);\r\n        return 1;\r\n      }\r\n      return this[tag.image ? 'DrawColourImage' : 'DrawColourText'](c,x,y,w,h,colour,tag,x1,y1);\r\n    };\r\n    Oproto.DrawColourText = function(c,x,y,w,h,colour,tag,x1,y1) {\r\n      var normal = tag.colour;\r\n      tag.colour = colour;\r\n      tag.alpha = 1;\r\n      tag.Draw(c,x1,y1);\r\n      tag.colour = normal;\r\n      return 1;\r\n    };\r\n    Oproto.DrawColourImage = function(c,x,y,w,h,colour,tag,x1,y1) {\r\n      var ccanvas = c.canvas, fx = ~~max(x,0), fy = ~~max(y,0), \r\n        fw = min(ccanvas.width - fx, w) + .5|0, fh = min(ccanvas.height - fy,h) + .5|0, cc;\r\n      if(ocanvas)\r\n        ocanvas.width = fw, ocanvas.height = fh;\r\n      else\r\n        ocanvas = NewCanvas(fw, fh);\r\n      if(!ocanvas)\r\n        return this.SetMethod('outline'); // if using IE and images, give up!\r\n      cc = ocanvas.getContext('2d');\r\n    \r\n      cc.drawImage(ccanvas,fx,fy,fw,fh,0,0,fw,fh);\r\n      c.clearRect(fx,fy,fw,fh);\r\n      if(this.pulsate) {\r\n        tag.alpha = 1 - pow(this.pulse, 2);\r\n      } else {\r\n        tag.alpha = 1;\r\n      }\r\n      tag.Draw(c,x1,y1);\r\n      c.setTransform(1,0,0,1,0,0);\r\n      c.save();\r\n      c.beginPath();\r\n      c.rect(fx,fy,fw,fh);\r\n      c.clip();\r\n      c.globalCompositeOperation = 'source-in';\r\n      c.fillStyle = colour;\r\n      c.fillRect(fx,fy,fw,fh);\r\n      c.restore();\r\n      c.globalAlpha = 1;\r\n      c.globalCompositeOperation = 'destination-over';\r\n      c.drawImage(ocanvas,0,0,fw,fh,fx,fy,fw,fh);\r\n      c.globalCompositeOperation = 'source-over';\r\n      return 1;\r\n    };\r\n    Oproto.DrawBlock = function(c,x,y,w,h,colour) {\r\n      var r = min(this.radius, h/2, w/2);\r\n      c.fillStyle = colour;\r\n      RRect(c, x, y, w, h, r);\r\n    };\r\n    Oproto.DrawSimple = function(c, tag, x1, y1, ga, useGa) {\r\n      var t = this.tc;\r\n      c.setTransform(1,0,0,1,0,0);\r\n      c.strokeStyle = this.colour;\r\n      c.lineWidth = t.outlineThickness;\r\n      c.shadowBlur = c.shadowOffsetX = c.shadowOffsetY = 0;\r\n      c.globalAlpha = useGa ? ga : 1;\r\n      return this.drawFunc(c,this.x,this.y,this.w,this.h,this.colour,tag,x1,y1);\r\n    };\r\n    Oproto.DrawPulsate = function(c, tag, x1, y1) {\r\n      var diff = TimeNow() - this.ts, t = this.tc,\r\n        ga = t.pulsateTo + ((1 - t.pulsateTo) * \r\n        (0.5 + (cos(2 * Math.PI * diff / (1000 * t.pulsateTime)) / 2)));\r\n      this.pulse = ga = TagCanvas.Smooth(1,ga);\r\n      return this.DrawSimple(c, tag, x1, y1, ga, 1);\r\n    };\r\n    Oproto.Active = function(c,x,y) {\r\n      var a = (x >= this.x && y >= this.y &&\r\n        x <= this.x + this.w && y <= this.y + this.h);\r\n      if(a) {\r\n        this.ts = this.ts || TimeNow();\r\n      } else {\r\n        this.ts = null;\r\n      }\r\n      return a;\r\n    };\r\n    Oproto.PreDraw = Oproto.PostDraw = Oproto.LastDraw = Nop;\r\n    /**\r\n     * @constructor\r\n     */\r\n    function Tag(tc, text, a, v, w, h, col, bcol, bradius, boutline, bothickness,\r\n      font, padding, original) {\r\n      this.tc = tc;\r\n      this.image = null;\r\n      this.text = text;\r\n      this.text_original = original;\r\n      this.line_widths = [];\r\n      this.title = a.title || null;\r\n      this.a = a;\r\n      this.position = new Vector(v[0], v[1], v[2]);\r\n      this.x = this.y = this.z = 0;\r\n      this.w = w;\r\n      this.h = h;\r\n      this.colour = col || tc.textColour;\r\n      this.bgColour = bcol || tc.bgColour;\r\n      this.bgRadius = bradius | 0;\r\n      this.bgOutline = boutline || this.colour;\r\n      this.bgOutlineThickness = bothickness | 0;\r\n      this.textFont = font || tc.textFont;\r\n      this.padding = padding | 0;\r\n      this.sc = this.alpha = 1;\r\n      this.weighted = !tc.weight;\r\n      this.outline = new Outline(tc,this);\r\n    }\r\n    Tproto = Tag.prototype;\r\n    Tproto.Init = function(e) {\r\n      var tc = this.tc;\r\n      this.textHeight = tc.textHeight;\r\n      if(this.HasText()) {\r\n        this.Measure(tc.ctxt,tc);\r\n      } else {\r\n        this.w = this.iw;\r\n        this.h = this.ih;\r\n      }\r\n    \r\n      this.SetShadowColour = tc.shadowAlpha ? this.SetShadowColourAlpha : this.SetShadowColourFixed;\r\n      this.SetDraw(tc);\r\n    };\r\n    Tproto.Draw = Nop;\r\n    Tproto.HasText = function() {\r\n      return this.text && this.text[0].length > 0;\r\n    };\r\n    Tproto.EqualTo = function(e) {\r\n      var i = e.getElementsByTagName('img');\r\n      if(this.a.href != e.href)\r\n        return 0;\r\n      if(i.length)\r\n        return this.image.src == i[0].src;\r\n      return (e.innerText || e.textContent) == this.text_original;\r\n    };\r\n    Tproto.SetImage = function(i) {\r\n      this.image = this.fimage = i;\r\n    };\r\n    Tproto.SetDraw = function(t) {\r\n      this.Draw = this.fimage ? (t.ie > 7 ? this.DrawImageIE : this.DrawImage) : this.DrawText;\r\n      t.noSelect && (this.CheckActive = Nop);\r\n    };\r\n    Tproto.MeasureText = function(c) {\r\n      var i, l = this.text.length, w = 0, wl;\r\n      for(i = 0; i < l; ++i) {\r\n        this.line_widths[i] = wl = c.measureText(this.text[i]).width;\r\n        w = max(w, wl);\r\n      }\r\n      return w;\r\n    };\r\n    Tproto.Measure = function(c,t) {\r\n      var extents = FindTextBoundingBox(this.text, this.textFont, this.textHeight),\r\n        s, th, f, soff, cw, twidth, theight, img, tcv;\r\n      // add the gap at the top to the height to make equal gap at bottom\r\n      theight = extents ? extents.max.y + extents.min.y : this.textHeight;\r\n      c.font = this.font = this.textHeight + 'px ' + this.textFont;\r\n      twidth = this.MeasureText(c);\r\n      if(t.txtOpt) {\r\n        s = t.txtScale;\r\n        th = s * this.textHeight;\r\n        f = th + 'px ' + this.textFont;\r\n        soff = [s * t.shadowOffset[0], s * t.shadowOffset[1]];\r\n        c.font = f;\r\n        cw = this.MeasureText(c);\r\n        tcv = new TextCanvas(this.text, f, cw + s, (s * theight) + s, cw,\r\n          this.line_widths, t.textAlign, t.textVAlign, s);\r\n    \r\n        if(this.image)\r\n          tcv.SetImage(this.image, this.iw, this.ih, t.imagePosition, t.imagePadding,\r\n            t.imageAlign, t.imageVAlign, t.imageScale);\r\n    \r\n        img = tcv.Create(this.colour, this.bgColour, this.bgOutline,\r\n          s * this.bgOutlineThickness, t.shadow, s * t.shadowBlur, soff,\r\n          s * this.padding, s * this.bgRadius);\r\n    \r\n        // add outline image using highlight colour\r\n        if(t.outlineMethod == 'colour') {\r\n          this.oimage = tcv.Create(this.outline.colour, this.bgColour, this.outline.colour,\r\n            s * this.bgOutlineThickness, t.shadow, s * t.shadowBlur, soff,\r\n            s * this.padding, s * this.bgRadius);\r\n    \r\n        } else if(t.outlineMethod == 'size') {\r\n          extents = FindTextBoundingBox(this.text, this.textFont,\r\n            this.textHeight + t.outlineIncrease);\r\n          th = extents.max.y + extents.min.y;\r\n          f = (s * (this.textHeight + t.outlineIncrease)) + 'px ' + this.textFont;\r\n          c.font = f;\r\n          cw = this.MeasureText(c);\r\n    \r\n          tcv = new TextCanvas(this.text, f, cw + s, (s * th) + s, cw,\r\n            this.line_widths, t.textAlign, t.textVAlign, s);\r\n          if(this.image)\r\n            tcv.SetImage(this.image, this.iw + t.outlineIncrease,\r\n              this.ih + t.outlineIncrease, t.imagePosition, t.imagePadding,\r\n              t.imageAlign, t.imageVAlign, t.imageScale);\r\n              \r\n          this.oimage = tcv.Create(this.colour, this.bgColour, this.bgOutline,\r\n            s * this.bgOutlineThickness, t.shadow, s * t.shadowBlur, soff,\r\n            s * this.padding, s * this.bgRadius);\r\n    \r\n          this.oscale = this.oimage.width / img.width;\r\n          if(t.outlineIncrease > 0)\r\n            img = ExpandImage(img, this.oimage.width, this.oimage.height);\r\n          else\r\n            this.oimage = ExpandImage(this.oimage, img.width, img.height);\r\n        }\r\n        if(img) {\r\n          this.fimage = img;\r\n          twidth = this.fimage.width / s;\r\n          theight = this.fimage.height / s;\r\n        }\r\n        this.SetDraw(t);\r\n        t.txtOpt = !!this.fimage;\r\n      }\r\n      this.h = theight;\r\n      this.w = twidth;\r\n    };\r\n    Tproto.SetFont = function(f, c, bc, boc) {\r\n      this.textFont = f;\r\n      this.colour = c;\r\n      this.bgColour = bc;\r\n      this.bgOutline = boc;\r\n      this.Measure(this.tc.ctxt, this.tc);\r\n    };\r\n    Tproto.SetWeight = function(w) {\r\n      var tc = this.tc, modes = tc.weightMode.split(/[, ]/), m, s, wl = w.length;\r\n      if(!this.HasText())\r\n        return;\r\n      this.weighted = true;\r\n      for(s = 0; s < wl; ++s) {\r\n        m = modes[s] || 'size';\r\n        if('both' == m) {\r\n          this.Weight(w[s], tc.ctxt, tc, 'size', tc.min_weight[s], \r\n            tc.max_weight[s], s);\r\n          this.Weight(w[s], tc.ctxt, tc, 'colour', tc.min_weight[s],\r\n            tc.max_weight[s], s);\r\n        } else {\r\n          this.Weight(w[s], tc.ctxt, tc, m, tc.min_weight[s], tc.max_weight[s], s);\r\n        }\r\n      }\r\n      this.Measure(tc.ctxt, tc);\r\n    };\r\n    Tproto.Weight = function(w, c, t, m, wmin, wmax, wnum) {\r\n      w = isNaN(w) ? 1 : w;\r\n      var nweight = (w - wmin) / (wmax - wmin);\r\n      if('colour' == m)\r\n        this.colour = FindGradientColour(t, nweight, wnum);\r\n      else if('bgcolour' == m)\r\n        this.bgColour = FindGradientColour(t, nweight, wnum);\r\n      else if('bgoutline' == m)\r\n        this.bgOutline = FindGradientColour(t, nweight, wnum);\r\n      else if('outline' == m)\r\n        this.outline.colour = FindGradientColour(t, nweight, wnum);\r\n      else if('size' == m) {\r\n        if(t.weightSizeMin > 0 && t.weightSizeMax > t.weightSizeMin) {\r\n          this.textHeight = t.weightSize * \r\n            (t.weightSizeMin + (t.weightSizeMax - t.weightSizeMin) * nweight);\r\n        } else {\r\n          // min textHeight of 1\r\n          this.textHeight = max(1, w * t.weightSize);\r\n        }\r\n      }\r\n    };\r\n    Tproto.SetShadowColourFixed = function(c,s,a) {\r\n      c.shadowColor = s;\r\n    };\r\n    Tproto.SetShadowColourAlpha = function(c,s,a) {\r\n      c.shadowColor = SetAlpha(s, a);\r\n    };\r\n    Tproto.DrawText = function(c,xoff,yoff) {\r\n      var t = this.tc, x = this.x, y = this.y, s = this.sc, i, xl;\r\n      c.globalAlpha = this.alpha;\r\n      c.fillStyle = this.colour;\r\n      t.shadow && this.SetShadowColour(c,t.shadow,this.alpha);\r\n      c.font = this.font;\r\n      x += xoff / s;\r\n      y += (yoff / s) - (this.h / 2);\r\n      for(i = 0; i < this.text.length; ++i) {\r\n        xl = x;\r\n        if('right' == t.textAlign) {\r\n          xl += this.w / 2 - this.line_widths[i];\r\n        } else if('centre' == t.textAlign) {\r\n          xl -= this.line_widths[i] / 2;\r\n        } else {\r\n          xl -= this.w / 2;\r\n        }\r\n        c.setTransform(s, 0, 0, s, s * xl, s * y);\r\n        c.fillText(this.text[i], 0, 0);\r\n        y += this.textHeight;\r\n      }\r\n    };\r\n    Tproto.DrawImage = function(c,xoff,yoff,im) {\r\n      var x = this.x, y = this.y, s = this.sc,\r\n        i = im || this.fimage, w = this.w, h = this.h, a = this.alpha,\r\n        shadow = this.shadow;\r\n      c.globalAlpha = a;\r\n      shadow && this.SetShadowColour(c,shadow,a);\r\n      x += (xoff / s) - (w / 2);\r\n      y += (yoff / s) - (h / 2);\r\n      c.setTransform(s, 0, 0, s, s * x, s * y);\r\n      c.drawImage(i, 0, 0, w, h);\r\n    };\r\n    Tproto.DrawImageIE = function(c,xoff,yoff) {\r\n      var i = this.fimage, s = this.sc,\r\n        w = i.width = this.w*s, h = i.height = this.h * s,\r\n        x = (this.x*s) + xoff - (w/2), y = (this.y*s) + yoff - (h/2);\r\n      c.setTransform(1,0,0,1,0,0);\r\n      c.globalAlpha = this.alpha;\r\n      c.drawImage(i, x, y);\r\n    };\r\n    Tproto.Calc = function(m,a) {\r\n      var pp, t = this.tc, mnb = t.minBrightness,\r\n        mxb = t.maxBrightness, r = t.max_radius;\r\n      pp = m.xform(this.position);\r\n      this.xformed = pp;\r\n      pp = Project(t, pp, t.stretchX, t.stretchY);\r\n      this.x = pp.x;\r\n      this.y = pp.y;\r\n      this.z = pp.z;\r\n      this.sc = pp.w;\r\n      this.alpha = a * Clamp(mnb + (mxb - mnb) * (r - this.z) / (2 * r), 0, 1);\r\n      return this.xformed;\r\n    };\r\n    Tproto.UpdateActive = function(c, xoff, yoff) {\r\n      var o = this.outline, w = this.w, h = this.h,\r\n        x = this.x - w/2, y = this.y - h/2;\r\n      o.Update(x, y, w, h, this.sc, this.z, xoff, yoff);\r\n      return o;\r\n    };\r\n    Tproto.CheckActive = function(c,xoff,yoff) {\r\n      var t = this.tc, o = this.UpdateActive(c, xoff, yoff);\r\n      return o.Active(c, t.mx, t.my) ? o : null;\r\n    };\r\n    Tproto.Clicked = function(e) {\r\n      var a = this.a, t = a.target, h = a.href, evt;\r\n      if(t != '' && t != '_self') {\r\n        if(self.frames[t]) {\r\n          self.frames[t].document.location = h;\r\n        } else{\r\n          try {\r\n            if(top.frames[t]) {\r\n              top.frames[t].document.location = h;\r\n              return;\r\n            }\r\n          } catch(err) {\r\n            // different domain/port/protocol?\r\n          }\r\n          window.open(h, t);\r\n        }\r\n        return;\r\n      }\r\n      if(doc.createEvent) {\r\n        evt = doc.createEvent('MouseEvents');\r\n        evt.initMouseEvent('click', 1, 1, window, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, null);\r\n        if(!a.dispatchEvent(evt))\r\n          return;\r\n      } else if(a.fireEvent) {\r\n        if(!a.fireEvent('onclick'))\r\n          return;\r\n      }\r\n      doc.location = h;\r\n    };\r\n    /**\r\n     * @constructor\r\n     */\r\n    function TagCanvas(cid,lctr,opt) {\r\n      var i, p, c = doc.getElementById(cid), cp = ['id','class','innerHTML'], raf;\r\n    \r\n      if(!c) throw 0;\r\n      if(Defined(window.G_vmlCanvasManager)) {\r\n        c = window.G_vmlCanvasManager.initElement(c);\r\n        this.ie = parseFloat(navigator.appVersion.split('MSIE')[1]);\r\n      }\r\n      if(c && (!c.getContext || !c.getContext('2d').fillText)) {\r\n        p = doc.createElement('DIV');\r\n        for(i = 0; i < cp.length; ++i)\r\n          p[cp[i]] = c[cp[i]];\r\n        c.parentNode.insertBefore(p,c);\r\n        c.parentNode.removeChild(c);\r\n        throw 0;\r\n      }\r\n      for(i in TagCanvas.options)\r\n        this[i] = opt && Defined(opt[i]) ? opt[i] : \r\n          (Defined(TagCanvas[i]) ? TagCanvas[i] : TagCanvas.options[i]);\r\n    \r\n      this.canvas = c;\r\n      this.ctxt = c.getContext('2d');\r\n      this.z1 = 250 / max(this.depth, 0.001);\r\n      this.z2 = this.z1 / this.zoom;\r\n      this.radius = min(c.height, c.width) * 0.0075; // fits radius of 100 in canvas\r\n      this.max_radius = 100;\r\n      this.max_weight = [];\r\n      this.min_weight = [];\r\n      this.textFont = this.textFont && FixFont(this.textFont);\r\n      this.textHeight *= 1;\r\n      this.imageRadius = this.imageRadius.toString();\r\n      this.pulsateTo = Clamp(this.pulsateTo, 0, 1);\r\n      this.minBrightness = Clamp(this.minBrightness, 0, 1);\r\n      this.maxBrightness = Clamp(this.maxBrightness, this.minBrightness, 1);\r\n      this.ctxt.textBaseline = 'top';\r\n      this.lx = (this.lock + '').indexOf('x') + 1;\r\n      this.ly = (this.lock + '').indexOf('y') + 1;\r\n      this.frozen = this.dx = this.dy = this.fixedAnim = this.touchState = 0;\r\n      this.fixedAlpha = 1;\r\n      this.source = lctr || cid;\r\n      this.repeatTags = min(64, ~~this.repeatTags);\r\n      this.minTags = min(200, ~~this.minTags);\r\n      if(~~this.scrollPause > 0)\r\n        TagCanvas.scrollPause = ~~this.scrollPause;\r\n      else\r\n        this.scrollPause = 0;\r\n      if(this.minTags > 0 && this.repeatTags < 1 && (i = this.GetTags().length))\r\n        this.repeatTags = ceil(this.minTags / i) - 1;\r\n      this.transform = Matrix.Identity();\r\n      this.startTime = this.time = TimeNow();\r\n      this.mx = this.my = -1;\r\n      this.centreImage && CentreImage(this);\r\n      this.Animate = this.dragControl ? this.AnimateDrag : this.AnimatePosition;\r\n      this.animTiming = (typeof TagCanvas[this.animTiming] == 'function' ?\r\n        TagCanvas[this.animTiming] : TagCanvas.Smooth);\r\n      if(this.shadowBlur || this.shadowOffset[0] || this.shadowOffset[1]) {\r\n        // let the browser translate \"red\" into \"#ff0000\"\r\n        this.ctxt.shadowColor = this.shadow;\r\n        this.shadow = this.ctxt.shadowColor;\r\n        this.shadowAlpha = ShadowAlphaBroken();\r\n      } else {\r\n        delete this.shadow;\r\n      }\r\n      this.Load();\r\n      if(lctr && this.hideTags) {\r\n        (function(t) {\r\n        if(TagCanvas.loaded)\r\n          t.HideTags();\r\n        else\r\n          AddHandler('load', function() { t.HideTags(); }, window);\r\n        })(this);\r\n      }\r\n    \r\n      this.yaw = this.initial ? this.initial[0] * this.maxSpeed : 0;\r\n      this.pitch = this.initial ? this.initial[1] * this.maxSpeed : 0;\r\n      if(this.tooltip) {\r\n        this.ctitle = c.title;\r\n        c.title = '';\r\n        if(this.tooltip == 'native') {\r\n          this.Tooltip = this.TooltipNative;\r\n        } else {\r\n          this.Tooltip = this.TooltipDiv;\r\n          if(!this.ttdiv) {\r\n            this.ttdiv = doc.createElement('div');\r\n            this.ttdiv.className = this.tooltipClass;\r\n            this.ttdiv.style.position = 'absolute';\r\n            this.ttdiv.style.zIndex = c.style.zIndex + 1;\r\n            AddHandler('mouseover',function(e){e.target.style.display='none';},this.ttdiv);\r\n            doc.body.appendChild(this.ttdiv);\r\n          }\r\n        }\r\n      } else {\r\n        this.Tooltip = this.TooltipNone;\r\n      }\r\n      if(!this.noMouse && !handlers[cid]) {\r\n        handlers[cid] = [\r\n          ['mousemove', MouseMove],\r\n          ['mouseout', MouseOut],\r\n          ['mouseup', MouseUp],\r\n          ['touchstart', TouchDown],\r\n          ['touchend', TouchUp],\r\n          ['touchcancel', TouchUp],\r\n          ['touchmove', TouchMove]\r\n        ];\r\n        if(this.dragControl) {\r\n          handlers[cid].push(['mousedown', MouseDown]);\r\n          handlers[cid].push(['selectstart', Nop]);\r\n        }\r\n        if(this.wheelZoom) {\r\n          handlers[cid].push(['mousewheel', MouseWheel]);\r\n          handlers[cid].push(['DOMMouseScroll', MouseWheel]);\r\n        }\r\n        if(this.scrollPause) {\r\n          handlers[cid].push(['scroll', Scroll, window]);\r\n        }\r\n        for(i = 0; i < handlers[cid].length; ++i) {\r\n          p = handlers[cid][i];\r\n          AddHandler(p[0], p[1], p[2] ? p[2] : c);\r\n        }\r\n      }\r\n      if(!TagCanvas.started) {\r\n        raf = window.requestAnimationFrame = window.requestAnimationFrame ||\r\n          window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame ||\r\n          window.msRequestAnimationFrame;\r\n        TagCanvas.NextFrame = raf ? TagCanvas.NextFrameRAF :\r\n          TagCanvas.NextFrameTimeout;\r\n        TagCanvas.interval = this.interval;\r\n        TagCanvas.NextFrame(this.interval);\r\n        TagCanvas.started = 1;\r\n      }\r\n    }\r\n    TCproto = TagCanvas.prototype;\r\n    TCproto.SourceElements = function() {\r\n      if(doc.querySelectorAll)\r\n        return doc.querySelectorAll('#' + this.source);\r\n      return [doc.getElementById(this.source)];\r\n    };\r\n    TCproto.HideTags = function() {\r\n      var el = this.SourceElements(), i;\r\n      for(i = 0; i < el.length; ++i)\r\n        el[i].style.display = 'none';\r\n    };\r\n    TCproto.GetTags = function() {\r\n      var el = this.SourceElements(), etl, tl = [], i, j, k;\r\n      for(k = 0; k <= this.repeatTags; ++k) {\r\n        for(i = 0; i < el.length; ++i) {\r\n          etl = el[i].getElementsByTagName('a');\r\n          for(j = 0; j < etl.length; ++j) {\r\n            tl.push(etl[j]);\r\n          }\r\n        }\r\n      }\r\n      return tl;\r\n    };\r\n    TCproto.Message = function(text) {\r\n      var tl = [], i, p, tc = text.split(''), a, t, x, z;\r\n      for(i = 0; i < tc.length; ++i) {\r\n        if(tc[i] != ' ') {\r\n          p = i - tc.length / 2;\r\n          a = doc.createElement('A');\r\n          a.href = '#';\r\n          a.innerText = tc[i];\r\n          x = 100 * sin(p / 9);\r\n          z = -100 * cos(p / 9);\r\n          t = new Tag(this, tc[i], a, [x,0,z], 2, 18, '#000', '#fff', 0, 0, 0,\r\n            'monospace', 2, tc[i]);\r\n          t.Init();\r\n          tl.push(t);\r\n        }\r\n      }\r\n      return tl;\r\n    };\r\n    TCproto.CreateTag = function(e) {\r\n      var im, i, t, txt, ts, font, bc, boc, p = [0, 0, 0];\r\n      if('text' != this.imageMode) {\r\n        im = e.getElementsByTagName('img');\r\n        if(im.length) {\r\n          i = new Image;\r\n          i.src = im[0].src;\r\n    \r\n          if(!this.imageMode) {\r\n            t = new Tag(this, \"\", e, p, 0, 0);\r\n            t.SetImage(i);\r\n            //t.Init();\r\n            AddImage(i, im[0], t, this);\r\n            return t;\r\n          }\r\n        }\r\n      }\r\n      if('image' != this.imageMode) {\r\n        ts = new TextSplitter(e);\r\n        txt = ts.Lines();\r\n        if(!ts.Empty()) {\r\n          font = this.textFont || FixFont(GetProperty(e,'font-family'));\r\n          if(this.splitWidth)\r\n            txt = ts.SplitWidth(this.splitWidth, this.ctxt, font, this.textHeight);\r\n    \r\n          bc = this.bgColour == 'tag' ? GetProperty(e, 'background-color') :\r\n            this.bgColour;\r\n          boc = this.bgOutline == 'tag' ? GetProperty(e, 'color') : this.bgOutline;\r\n        } else {\r\n          ts = null;\r\n        }\r\n      }\r\n      if(ts || i) {\r\n        t = new Tag(this, txt, e, p, 2, this.textHeight + 2,\r\n          this.textColour || GetProperty(e,'color'), bc, this.bgRadius,\r\n          boc, this.bgOutlineThickness, font, this.padding, ts && ts.original);\r\n        if(i) {\r\n          t.SetImage(i);\r\n          AddImage(i, im[0], t, this);\r\n        } else {\r\n          t.Init();\r\n        }\r\n        return t;\r\n      }\r\n    };\r\n    TCproto.UpdateTag = function(t, a) {\r\n      var colour = this.textColour || GetProperty(a, 'color'),\r\n        font = this.textFont || FixFont(GetProperty(a, 'font-family')),\r\n        bc = this.bgColour == 'tag' ? GetProperty(a, 'background-color') :\r\n          this.bgColour, boc = this.bgOutline == 'tag' ? GetProperty(a, 'color') :\r\n          this.bgOutline;\r\n      t.a = a;\r\n      t.title = a.title;\r\n      if(t.colour != colour || t.textFont != font || t.bgColour != bc ||\r\n        t.bgOutline != boc)\r\n        t.SetFont(font, colour, bc, boc);\r\n    };\r\n    TCproto.Weight = function(tl) {\r\n      var ll = tl.length, w, i, s, weights = [], valid,\r\n        wfrom = this.weightFrom ? this.weightFrom.split(/[, ]/) : [null],\r\n        wl = wfrom.length;\r\n      for(i = 0; i < ll; ++i) {\r\n        weights[i] = [];\r\n        for(s = 0; s < wl; ++s) {\r\n          w = FindWeight(tl[i].a, wfrom[s], this.textHeight);\r\n          if(!this.max_weight[s] || w > this.max_weight[s])\r\n            this.max_weight[s] = w;\r\n          if(!this.min_weight[s] || w < this.min_weight[s])\r\n            this.min_weight[s] = w;\r\n          weights[i][s] = w;\r\n        }\r\n      }\r\n      for(s = 0; s < wl; ++s) {\r\n        if(this.max_weight[s] > this.min_weight[s])\r\n          valid = 1;\r\n      }\r\n      if(valid) {\r\n        for(i = 0; i < ll; ++i) {\r\n          tl[i].SetWeight(weights[i]);\r\n        }\r\n      }\r\n    };\r\n    TCproto.Load = function() {\r\n      var tl = this.GetTags(), taglist = [], shape, t,\r\n        shapeArgs, rx, ry, rz, vl, i, tagmap = [], pfuncs = {\r\n          sphere: PointsOnSphere,\r\n          vcylinder: PointsOnCylinderV,\r\n          hcylinder: PointsOnCylinderH,\r\n          vring: PointsOnRingV,\r\n          hring: PointsOnRingH\r\n        };\r\n    \r\n      if(tl.length) {\r\n        tagmap.length = tl.length;\r\n        for(i = 0; i < tl.length; ++i)\r\n          tagmap[i] = i;\r\n        this.shuffleTags && Shuffle(tagmap);\r\n        rx = 100 * this.radiusX;\r\n        ry = 100 * this.radiusY;\r\n        rz = 100 * this.radiusZ;\r\n        this.max_radius = max(rx, max(ry, rz));\r\n    \r\n        for(i = 0; i < tl.length; ++i) {\r\n          t = this.CreateTag(tl[tagmap[i]]);\r\n          if(t)\r\n            taglist.push(t);\r\n        }\r\n        this.weight && this.Weight(taglist, true);\r\n      \r\n        if(this.shapeArgs) {\r\n          this.shapeArgs[0] = taglist.length;\r\n        } else {\r\n          shapeArgs = this.shape.toString().split(/[(),]/);\r\n          shape = shapeArgs.shift();\r\n          if(typeof window[shape] === 'function')\r\n            this.shape = window[shape];\r\n          else\r\n            this.shape = pfuncs[shape] || pfuncs.sphere;\r\n          this.shapeArgs = [taglist.length, rx, ry, rz].concat(shapeArgs);\r\n        }\r\n        vl = this.shape.apply(this, this.shapeArgs);\r\n        this.listLength = taglist.length;\r\n        for(i = 0; i < taglist.length; ++i)\r\n          taglist[i].position = new Vector(vl[i][0], vl[i][1], vl[i][2]);\r\n      }\r\n      if(this.noTagsMessage && !taglist.length) {\r\n        i = (this.imageMode && this.imageMode != 'both' ? this.imageMode + ' ': '');\r\n        taglist = this.Message('No ' + i + 'tags');\r\n      }\r\n      this.taglist = taglist;\r\n    };\r\n    TCproto.Update = function() {\r\n      var tl = this.GetTags(), newlist = [],\r\n        taglist = this.taglist, found,\r\n        added = [], removed = [], vl, ol, nl, i, j;\r\n    \r\n      if(!this.shapeArgs)\r\n        return this.Load();\r\n    \r\n      if(tl.length) {\r\n        nl = this.listLength = tl.length;\r\n        ol = taglist.length;\r\n    \r\n        // copy existing list, populate \"removed\"\r\n        for(i = 0; i < ol; ++i) {\r\n          newlist.push(taglist[i]);\r\n          removed.push(i);\r\n        }\r\n    \r\n        // find added and removed tags\r\n        for(i = 0; i < nl; ++i) {\r\n          for(j = 0, found = 0; j < ol; ++j) {\r\n            if(taglist[j].EqualTo(tl[i])) {\r\n              this.UpdateTag(newlist[j], tl[i]);\r\n              found = removed[j] = -1;\r\n            }\r\n          }\r\n          if(!found)\r\n            added.push(i);\r\n        }\r\n    \r\n        // clean out found tags from removed list\r\n        for(i = 0, j = 0; i < ol; ++i) {\r\n          if(removed[j] == -1)\r\n            removed.splice(j,1);\r\n          else\r\n            ++j;\r\n        }\r\n    \r\n        // insert new tags in gaps where old tags removed\r\n        if(removed.length) {\r\n          Shuffle(removed);\r\n          while(removed.length && added.length) {\r\n            i = removed.shift();\r\n            j = added.shift();\r\n            newlist[i] = this.CreateTag(tl[j]);\r\n          }\r\n    \r\n          // remove any more (in reverse order)\r\n          removed.sort(function(a,b) {return a-b});\r\n          while(removed.length) {\r\n            newlist.splice(removed.pop(), 1);\r\n          }\r\n        }\r\n    \r\n        // add any extra tags\r\n        j = newlist.length / (added.length + 1);\r\n        i = 0;\r\n        while(added.length) {\r\n          newlist.splice(ceil(++i * j), 0, this.CreateTag(tl[added.shift()]));\r\n        }\r\n    \r\n        // assign correct positions to tags\r\n        this.shapeArgs[0] = nl = newlist.length;\r\n        vl = this.shape.apply(this, this.shapeArgs);\r\n        for(i = 0; i < nl; ++i)\r\n          newlist[i].position = new Vector(vl[i][0], vl[i][1], vl[i][2]);\r\n    \r\n        // reweight tags\r\n        this.weight && this.Weight(newlist);\r\n      }\r\n      this.taglist = newlist;\r\n    };\r\n    TCproto.SetShadow = function(c) {\r\n      c.shadowBlur = this.shadowBlur;\r\n      c.shadowOffsetX = this.shadowOffset[0];\r\n      c.shadowOffsetY = this.shadowOffset[1];\r\n    };\r\n    TCproto.Draw = function(t) {\r\n      if(this.paused)\r\n        return;\r\n      var cv = this.canvas, cw = cv.width, ch = cv.height, max_sc = 0,\r\n        tdelta = (t - this.time) * TagCanvas.interval / 1000,\r\n        x = cw / 2 + this.offsetX, y = ch / 2 + this.offsetY, c = this.ctxt,\r\n        active, a, i, aindex = -1, tl = this.taglist, l = tl.length,\r\n        frontsel = this.frontSelect, centreDrawn = (this.centreFunc == Nop), fixed;\r\n      this.time = t;\r\n      if(this.frozen && this.drawn)\r\n        return this.Animate(cw,ch,tdelta);\r\n      fixed = this.AnimateFixed();\r\n      c.setTransform(1,0,0,1,0,0);\r\n      for(i = 0; i < l; ++i)\r\n        tl[i].Calc(this.transform, this.fixedAlpha);\r\n      tl = SortList(tl, function(a,b) {return b.z-a.z});\r\n      \r\n      if(fixed && this.fixedAnim.active) {\r\n        active = this.fixedAnim.tag.UpdateActive(c, x, y);\r\n      } else {\r\n        this.active = null;\r\n        for(i = 0; i < l; ++i) {\r\n          a = this.mx >= 0 && this.my >= 0 && this.taglist[i].CheckActive(c, x, y);\r\n          if(a && a.sc > max_sc && (!frontsel || a.z <= 0)) {\r\n            active = a;\r\n            aindex = i;\r\n            active.tag = this.taglist[i];\r\n            max_sc = a.sc;\r\n          }\r\n        }\r\n        this.active = active;\r\n      }\r\n    \r\n      this.txtOpt || (this.shadow && this.SetShadow(c));\r\n      c.clearRect(0,0,cw,ch);\r\n      for(i = 0; i < l; ++i) {\r\n        if(!centreDrawn && tl[i].z <= 0) {\r\n          // run the centreFunc if the next tag is at the front\r\n          try { this.centreFunc(c, cw, ch, x, y); }\r\n          catch(e) {\r\n            alert(e);\r\n            // don't run it again\r\n            this.centreFunc = Nop;\r\n          }\r\n          centreDrawn = true;\r\n        }\r\n    \r\n        if(!(active && active.tag == tl[i] && active.PreDraw(c, tl[i], x, y)))\r\n          tl[i].Draw(c, x, y);\r\n        active && active.tag == tl[i] && active.PostDraw(c);\r\n      }\r\n      if(this.freezeActive && active) {\r\n        this.Freeze();\r\n      } else {\r\n        this.UnFreeze();\r\n        this.drawn = (l == this.listLength);\r\n      }\r\n      if(this.fixedCallback) {\r\n        this.fixedCallback(this,this.fixedCallbackTag);\r\n        this.fixedCallback = null;\r\n      }\r\n      fixed || this.Animate(cw, ch, tdelta);\r\n      active && active.LastDraw(c);\r\n      cv.style.cursor = active ? this.activeCursor : '';\r\n      this.Tooltip(active,this.taglist[aindex]);\r\n    };\r\n    TCproto.TooltipNone = function() { };\r\n    TCproto.TooltipNative = function(active,tag) {\r\n      if(active)\r\n        this.canvas.title = tag && tag.title ? tag.title : '';\r\n      else\r\n        this.canvas.title = this.ctitle;\r\n    };\r\n    TCproto.SetTTDiv = function(title, tag) {\r\n      var tc = this, s = tc.ttdiv.style;\r\n      if(title != tc.ttdiv.innerHTML)\r\n        s.display = 'none';\r\n      tc.ttdiv.innerHTML = title;\r\n      tag && (tag.title = tc.ttdiv.innerHTML);\r\n      if(s.display == 'none' && ! tc.tttimer) {\r\n        tc.tttimer = setTimeout(function() {\r\n          var p = AbsPos(tc.canvas.id);\r\n          s.display = 'block';\r\n          s.left = p.x + tc.mx + 'px';\r\n          s.top = p.y + tc.my + 24 + 'px';\r\n          tc.tttimer = null;\r\n        }, tc.tooltipDelay);\r\n      }\r\n    };\r\n    TCproto.TooltipDiv = function(active,tag) {\r\n      if(active && tag && tag.title) {\r\n        this.SetTTDiv(tag.title, tag);\r\n      } else if(!active && this.mx != -1 && this.my != -1 && this.ctitle.length) {\r\n        this.SetTTDiv(this.ctitle);\r\n      } else {\r\n        this.ttdiv.style.display = 'none';\r\n      }\r\n    };\r\n    TCproto.Transform = function(tc, p, y) {\r\n      if(p || y) {\r\n        var sp = sin(p), cp = cos(p), sy = sin(y), cy = cos(y),\r\n          ym = new Matrix([cy,0,sy, 0,1,0, -sy,0,cy]),\r\n          pm = new Matrix([1,0,0, 0,cp,-sp, 0,sp,cp]);\r\n        tc.transform = tc.transform.mul(ym.mul(pm));\r\n      }\r\n    };\r\n    TCproto.AnimateFixed = function() {\r\n      var fa, t1, angle, m, d;\r\n      if(this.fadeIn) {\r\n        t1 = TimeNow() - this.startTime;\r\n        if(t1 >= this.fadeIn) {\r\n          this.fadeIn = 0;\r\n          this.fixedAlpha = 1;\r\n        } else {\r\n          this.fixedAlpha = t1 / this.fadeIn;\r\n        }\r\n      }\r\n      if(this.fixedAnim) {\r\n        if(!this.fixedAnim.transform)\r\n          this.fixedAnim.transform = this.transform;\r\n        fa = this.fixedAnim, t1 = TimeNow() - fa.t0, angle = fa.angle,\r\n          m, d = this.animTiming(fa.t, t1);\r\n        this.transform = fa.transform;\r\n        if(t1 >= fa.t) {\r\n          this.fixedCallbackTag = fa.tag;\r\n          this.fixedCallback = fa.cb;\r\n          this.fixedAnim = this.yaw = this.pitch = 0;\r\n        } else {\r\n          angle *= d;\r\n        }\r\n        m = Matrix.Rotation(angle, fa.axis);\r\n        this.transform = this.transform.mul(m);\r\n        return (this.fixedAnim != 0);\r\n      }\r\n      return false;\r\n    };\r\n    TCproto.AnimatePosition = function(w, h, t) {\r\n      var tc = this, x = tc.mx, y = tc.my, s, r;\r\n      if(!tc.frozen && x >= 0 && y >= 0 && x < w && y < h) {\r\n        s = tc.maxSpeed, r = tc.reverse ? -1 : 1;\r\n        tc.lx || (tc.yaw = ((x * 2 * s / w) - s) * r * t);\r\n        tc.ly || (tc.pitch = ((y * 2 * s / h) - s) * -r * t);\r\n        tc.initial = null;\r\n      } else if(!tc.initial) {\r\n        if(tc.frozen && !tc.freezeDecel)\r\n          tc.yaw = tc.pitch = 0;\r\n        else\r\n          tc.Decel(tc);\r\n      }\r\n      this.Transform(tc, tc.pitch, tc.yaw);\r\n    };\r\n    TCproto.AnimateDrag = function(w, h, t) {\r\n      var tc = this, rs = 100 * t * tc.maxSpeed / tc.max_radius / tc.zoom;\r\n      if(tc.dx || tc.dy) {\r\n        tc.lx || (tc.yaw = tc.dx * rs / tc.stretchX);\r\n        tc.ly || (tc.pitch = tc.dy * -rs / tc.stretchY);\r\n        tc.dx = tc.dy = 0;\r\n        tc.initial = null;\r\n      } else if(!tc.initial) {\r\n        tc.Decel(tc);\r\n      }\r\n      this.Transform(tc, tc.pitch, tc.yaw);\r\n    };\r\n    TCproto.Freeze = function() {\r\n      if(!this.frozen) {\r\n        this.preFreeze = [this.yaw, this.pitch];\r\n        this.frozen = 1;\r\n        this.drawn = 0;\r\n      }\r\n    };\r\n    TCproto.UnFreeze = function() {\r\n      if(this.frozen) {\r\n        this.yaw = this.preFreeze[0];\r\n        this.pitch = this.preFreeze[1];\r\n        this.frozen = 0;\r\n      }\r\n    };\r\n    TCproto.Decel = function(tc) {\r\n      var s = tc.minSpeed, ay = abs(tc.yaw), ap = abs(tc.pitch);\r\n      if(!tc.lx && ay > s)\r\n        tc.yaw = ay > tc.z0 ? tc.yaw * tc.decel : 0;\r\n      if(!tc.ly && ap > s)\r\n        tc.pitch = ap > tc.z0 ? tc.pitch * tc.decel : 0;\r\n    };\r\n    TCproto.Zoom = function(r) {\r\n      this.z2 = this.z1 * (1/r);\r\n      this.drawn = 0;\r\n    };\r\n    TCproto.Clicked = function(e) {\r\n      var a = this.active;\r\n      try {\r\n        if(a && a.tag)\r\n          if(this.clickToFront === false || this.clickToFront === null)\r\n            a.tag.Clicked(e);\r\n          else\r\n            this.TagToFront(a.tag, this.clickToFront, function() {\r\n              a.tag.Clicked(e);\r\n            }, true);\r\n      } catch(ex) {\r\n      }\r\n    };\r\n    TCproto.Wheel = function(i) {\r\n      var z = this.zoom + this.zoomStep * (i ? 1 : -1);\r\n      this.zoom = min(this.zoomMax,max(this.zoomMin,z));\r\n      this.Zoom(this.zoom);\r\n    };\r\n    TCproto.BeginDrag = function(e) {\r\n      this.down = EventXY(e, this.canvas);\r\n      e.cancelBubble = true;\r\n      e.returnValue = false;\r\n      e.preventDefault && e.preventDefault();\r\n    };\r\n    TCproto.Drag = function(e, p) {\r\n      if(this.dragControl && this.down) {\r\n        var t2 = this.dragThreshold * this.dragThreshold,\r\n          dx = p.x - this.down.x, dy = p.y - this.down.y;\r\n        if(this.dragging || dx * dx + dy * dy > t2) {\r\n          this.dx = dx;\r\n          this.dy = dy;\r\n          this.dragging = 1;\r\n          this.down = p;\r\n        }\r\n      }\r\n      return this.dragging;\r\n    };\r\n    TCproto.EndDrag = function() {\r\n      var res = this.dragging;\r\n      this.dragging = this.down = null;\r\n      return res;\r\n    };\r\n    function PinchDistance(e) {\r\n      var t1 = e.targetTouches[0], t2 = e.targetTouches[1];\r\n      return sqrt(pow(t2.pageX - t1.pageX, 2) + pow(t2.pageY - t1.pageY, 2));\r\n    }\r\n    TCproto.BeginPinch = function(e) {\r\n      this.pinched = [PinchDistance(e), this.zoom];\r\n      e.preventDefault && e.preventDefault();\r\n    };\r\n    TCproto.Pinch = function(e) {\r\n      var z, d, p = this.pinched;\r\n      if(!p)\r\n        return;\r\n      d = PinchDistance(e);\r\n      z = p[1] * d / p[0];\r\n      this.zoom = min(this.zoomMax,max(this.zoomMin,z));\r\n      this.Zoom(this.zoom);\r\n    };\r\n    TCproto.EndPinch = function(e) {\r\n      this.pinched = null;\r\n    };\r\n    TCproto.Pause = function() { this.paused = true; };\r\n    TCproto.Resume = function() { this.paused = false; };\r\n    TCproto.SetSpeed = function(i) {\r\n      this.initial = i;\r\n      this.yaw = i[0] * this.maxSpeed;\r\n      this.pitch = i[1] * this.maxSpeed;\r\n    };\r\n    TCproto.FindTag = function(t) {\r\n      if(!Defined(t))\r\n        return null;\r\n      Defined(t.index) && (t = t.index);\r\n      if(!IsObject(t))\r\n        return this.taglist[t];\r\n      var srch, tgt, i;\r\n      if(Defined(t.id))\r\n        srch = 'id', tgt = t.id;\r\n      else if(Defined(t.text))\r\n        srch = 'innerText', tgt = t.text;\r\n    \r\n      for(i = 0; i < this.taglist.length; ++i)\r\n        if(this.taglist[i].a[srch] == tgt)\r\n          return this.taglist[i];\r\n    };\r\n    TCproto.RotateTag = function(tag, lt, lg, time, callback, active) {\r\n      var t = tag.Calc(this.transform, 1), v1 = new Vector(t.x, t.y, t.z),\r\n        v2 = MakeVector(lg, lt), angle = v1.angle(v2), u = v1.cross(v2).unit();\r\n      if(angle == 0) {\r\n        this.fixedCallbackTag = tag;\r\n        this.fixedCallback = callback;\r\n      } else {\r\n        this.fixedAnim = {\r\n          angle: -angle,\r\n          axis: u,\r\n          t: time,\r\n          t0: TimeNow(),\r\n          cb: callback,\r\n          tag: tag,\r\n          active: active\r\n        };\r\n      }\r\n    };\r\n    TCproto.TagToFront = function(tag, time, callback, active) {\r\n      this.RotateTag(tag, 0, 0, time, callback, active);\r\n    };\r\n    TagCanvas.Start = function(id,l,o) {\r\n      TagCanvas.Delete(id);\r\n      TagCanvas.tc[id] = new TagCanvas(id,l,o);\r\n    };\r\n    function tccall(f,id) {\r\n      TagCanvas.tc[id] && TagCanvas.tc[id][f]();\r\n    }\r\n    TagCanvas.Linear = function(t, t0) { return t0 / t; }\r\n    TagCanvas.Smooth = function(t, t0) { return 0.5 - cos(t0 * Math.PI / t) / 2; }\r\n    TagCanvas.Pause = function(id) { tccall('Pause',id); };\r\n    TagCanvas.Resume = function(id) { tccall('Resume',id); };\r\n    TagCanvas.Reload = function(id) { tccall('Load',id); };\r\n    TagCanvas.Update = function(id) { tccall('Update',id); };\r\n    TagCanvas.SetSpeed = function(id, speed) {\r\n      if(IsObject(speed) && TagCanvas.tc[id] &&\r\n        !isNaN(speed[0]) && !isNaN(speed[1])) {\r\n        TagCanvas.tc[id].SetSpeed(speed);\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n    TagCanvas.TagToFront = function(id, options) {\r\n      if(!IsObject(options))\r\n        return false;\r\n      options.lat = options.lng = 0;\r\n      return TagCanvas.RotateTag(id, options);\r\n    };\r\n    TagCanvas.RotateTag = function(id, options) {\r\n      if(IsObject(options) && TagCanvas.tc[id]) {\r\n        if(isNaN(options.time))\r\n          options.time = 500;\r\n        var tt = TagCanvas.tc[id].FindTag(options);\r\n        if(tt) {\r\n          TagCanvas.tc[id].RotateTag(tt, options.lat, options.lng,\r\n            options.time, options.callback, options.active);\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    };\r\n    TagCanvas.Delete = function(id) {\r\n      var i, c;\r\n      if(handlers[id]) {\r\n        c = doc.getElementById(id);\r\n        if(c) {\r\n          for(i = 0; i < handlers[id].length; ++i)\r\n            RemoveHandler(handlers[id][i][0], handlers[id][i][1], c);\r\n        }\r\n      }\r\n      delete handlers[id];\r\n      delete TagCanvas.tc[id];\r\n    };\r\n    TagCanvas.NextFrameRAF = function() {\r\n      requestAnimationFrame(DrawCanvasRAF);\r\n    };\r\n    TagCanvas.NextFrameTimeout = function(iv) {\r\n      setTimeout(DrawCanvas, iv);\r\n    };\r\n    TagCanvas.tc = {};\r\n    TagCanvas.options = {\r\n    z1: 20000,\r\n    z2: 20000,\r\n    z0: 0.0002,\r\n    freezeActive: false,\r\n    freezeDecel: false,\r\n    activeCursor: 'pointer',\r\n    pulsateTo: 1,\r\n    pulsateTime: 3,\r\n    reverse: false,\r\n    depth: 0.5,\r\n    maxSpeed: 0.05,\r\n    minSpeed: 0,\r\n    decel: 0.95,\r\n    interval: 20,\r\n    minBrightness: 0.1,\r\n    maxBrightness: 1,\r\n    outlineColour: 'white',\r\n    outlineThickness: 2,\r\n    outlineOffset: 5,\r\n    outlineMethod: 'outline',\r\n    outlineRadius: 0,\r\n    textColour: '#42b883',\r\n    textHeight: 15,\r\n    textFont: 'Helvetica, Arial, sans-serif',\r\n    shadow: '#000',\r\n    shadowBlur: 0,\r\n    shadowOffset: [0,0],\r\n    initial: null,\r\n    hideTags: true,\r\n    zoom: 1,\r\n    weight: false,\r\n    weightMode: 'size',\r\n    weightFrom: null,\r\n    weightSize: 1,\r\n    weightSizeMin: null,\r\n    weightSizeMax: null,\r\n    weightGradient: {0:'#f00', 0.33:'#ff0', 0.66:'#0f0', 1:'#00f'},\r\n    txtOpt: true,\r\n    txtScale: 2,\r\n    frontSelect: false,\r\n    wheelZoom: true,\r\n    zoomMin: 0.3,\r\n    zoomMax: 3,\r\n    zoomStep: 0.05,\r\n    shape: 'phere',\r\n    lock: null,\r\n    tooltip: null,\r\n    tooltipDelay: 300,\r\n    tooltipClass: 'tctooltip',\r\n    radiusX: 1,\r\n    radiusY: 1,\r\n    radiusZ: 1,\r\n    stretchX: 1,\r\n    stretchY: 1,\r\n    offsetX: 0,\r\n    offsetY: 0,\r\n    shuffleTags: false,\r\n    noSelect: true,\r\n    noMouse: false,\r\n    imageScale: 1,\r\n    paused: false,\r\n    dragControl: false,\r\n    dragThreshold: 4,\r\n    centreFunc: Nop,\r\n    splitWidth: 0,\r\n    animTiming: 'Smooth',\r\n    clickToFront: false,\r\n    fadeIn: 0,\r\n    padding: 0,\r\n    bgColour: null,\r\n    bgRadius: 0,\r\n    bgOutline: null,\r\n    bgOutlineThickness: 0,\r\n    outlineIncrease: 4,\r\n    textAlign: 'centre',\r\n    textVAlign: 'middle',\r\n    imageMode: null,\r\n    imagePosition: null,\r\n    imagePadding: 2,\r\n    imageAlign: 'centre',\r\n    imageVAlign: 'middle',\r\n    noTagsMessage: true,\r\n    centreImage: null,\r\n    pinchZoom: false,\r\n    repeatTags: 0,\r\n    minTags: 0,\r\n    imageRadius: 0,\r\n    scrollPause: false,\r\n    outlineDash: 0,\r\n    outlineDashSpace: 0,\r\n    outlineDashSpeed: 1\r\n    };\r\n    for(i in TagCanvas.options) TagCanvas[i] = TagCanvas.options[i];\r\n    window.TagCanvas = TagCanvas;\r\n    AddHandler('load',function(){TagCanvas.loaded=1},window);\r\n    })();","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Skills.vue?vue&type=style&index=0&id=4053bbe6&lang=scss\"","<template>\n  <div class=\"skills\">  \n<div id=\"myCanvasContainer\">\n <canvas width=\"300\" height=\"300\" id=\"myCanvas\">\n  <p>Anything in here will be replaced on browsers that support the canvas element</p>\n  <ul>\n   <li><a href=\"#\">Bootstrap</a></li>\n   <li><a href=\"#\">CSS</a></li>\n   <li><a href=\"#\">JS</a></li>\n   <li><a href=\"#\">VUE.JS</a></li>\n   <li><a href=\"#\">SCSS</a></li>\n   <li><a href=\"#\">PUG</a></li>\n   <li><a href=\"#\">YII2</a></li>\n   <li><a href=\"#\">API</a></li>\n   <li><a href=\"#\">REST</a></li>\n   <li><a href=\"#\">SQL</a></li>\n   <li><a href=\"#\">NGINX</a></li>\n   <li><a href=\"#\">APACHE</a></li>\n   <li><a href=\"#\">GIT</a></li>\n   <li><a href=\"#\">PHP</a></li>\n   <li><a href=\"#\">MVC</a></li>\n   <li><a href=\"#\">CentOS</a></li>\n   <li><a href=\"#\">Ubuntu</a></li>\n  </ul>\n </canvas>\n</div>\n</div>\n</template>\n<script>\nimport carousel from '../assets/tagcanvas.js'\nexport default {\n  mounted() {\n    try {\n      TagCanvas.Start('myCanvas');\n    } catch(e) {\n      document.getElementById('myCanvasContainer').style.display = 'none';\n    } }\n    }\n</script>\n<style lang=\"scss\">\n\n.skills-li\n{\n  text-decoration-color: black;\n}\n</style>\n","import { render } from \"./Skills.vue?vue&type=template&id=4053bbe6\"\nimport script from \"./Skills.vue?vue&type=script&lang=js\"\nexport * from \"./Skills.vue?vue&type=script&lang=js\"\n\nimport \"./Skills.vue?vue&type=style&index=0&id=4053bbe6&lang=scss\"\nscript.render = render\n\nexport default script","var $ = require('../internals/export');\nvar lastIndexOf = require('../internals/array-last-index-of');\n\n// `Array.prototype.lastIndexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\n$({ target: 'Array', proto: true, forced: lastIndexOf !== [].lastIndexOf }, {\n  lastIndexOf: lastIndexOf\n});\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar min = Math.min;\nvar nativeLastIndexOf = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!nativeLastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('lastIndexOf');\n// For preventing possible almost infinite loop in non-standard implementations, test the forward version of the method\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\nvar FORCED = NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH;\n\n// `Array.prototype.lastIndexOf` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\nmodule.exports = FORCED ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n  // convert -0 to +0\n  if (NEGATIVE_ZERO) return nativeLastIndexOf.apply(this, arguments) || 0;\n  var O = toIndexedObject(this);\n  var length = toLength(O.length);\n  var index = length - 1;\n  if (arguments.length > 1) index = min(index, toInteger(arguments[1]));\n  if (index < 0) index = length + index;\n  for (;index >= 0; index--) if (index in O && O[index] === searchElement) return index || 0;\n  return -1;\n} : nativeLastIndexOf;\n"],"sourceRoot":""}